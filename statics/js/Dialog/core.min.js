(function(){if(!window.Cms){window.Cms={Config:{namespace:"window"}}}var f=window.Cms,b=Object.prototype.toString;f.Constant={};var j="_"+document.URL.split("#")[0].split("=")[0].replace(location.protocol+"//"+location.host,"").replace(/[^A-Za-z0-9\/]/g,"").replace(/\//g,"_");f.pageId=j;var g=function(){return Date.now().toString(36).toUpperCase()+Math.random().toString(16).substr(2).toUpperCase()};var a=navigator.userAgent.toLowerCase();f.isWindows=/windows|win32/.test(a);f.isMac=/macintosh|mac os|macintel|mac68k|macppc/.test(a);f.isLinux=/linux/.test(a);f.isIOS=/ipad|iphone|ipod/.test(a);f.isIPad=/ipad/.test(a);f.isAndroid=/android|slik\/\d/.test(a);f.isWPhone=/windows phone/.test(a);f.isDesktop=(f.isMac&&!f.isIOS)||(f.isWindows&&!f.isWPhone)||(f.isLinux&&!f.isAndroid);f.isTablet=/ipad|slik\/\d|(playbook).*?tablet/.test(a)||f.isAndroid&&!/mobile/.test(a);f.isPhone=!f.isDesktop&&!f.isTablet;f.inTouch=(("ontouchstart" in window)||("createTouch" in document))&&!("onmousemove" in document.documentElement);f.isGecko=/gecko/.test(a);f.isWebKit=/webkit/.test(a);f.isChrome=/chrome/.test(a);f.isOpera=/opera/.test(a);f.isSafari=/safari/.test(a)&&!f.isChrome&&!f.isOpera;f.isFirefox=/firefox/.test(a);f.isTrident=/trident/.test(a);f.isLiebao=/lbbrowser/i.test(a);f.is360Old=false;try{if(window.external&&external.twGetRunPath&&external.twGetRunPath().match(/360\we/i)){f.is360Old=true}}catch(d){}f.ieVersion=/msie|trident/.test(a)?parseFloat(/(msie |rv:)([\w.]+)/.exec(a)[2]):null;f.isIE=/msie/.test(a)&&!!window.ActiveXObject;f.isIE6=/msie/.test(a)&&!window.XMLHttpRequest;f.isIE7=/msie 7/.test(a)&&!!window.XMLHttpRequest&&!window.XDomainRequest;f.isIE10=f.isIE&&!!window.Worker&&!!window.WebSocket;f.isIE8=f.isIE&&!!window.XDomainRequest;if(f.isIE8){f.ieVersion=8}f.isIE9=f.isIE&&!!window.performance;if(f.isIE9){f.ieVersion=9}if(f.isIE10){f.ieVersion=10}f.isIE11=f.isTrident&&!!window.addEventListener&&!!window.getSelection;if(f.isIE11&&f.ieVersion<11){f.ieVersion=11}try{window.localStorage;f.localStorageAccessable=true}catch(d){f.localStorageAccessable=false}f.isQuirks=document.compatMode==="BackCompat";f.isStrict=document.compatMode==="CSS1Compat";f.isBorderBox=f.isIE&&f.isQuirks;f.WHICHBUTTON=f.isIE?{1:1,2:4,3:2}:(f.isWebKit?{1:0,2:1,3:2}:{1:0,2:1,3:2});if(f.isIE){try{document.documentElement.addBehavior("#default#userdata");document.execCommand("BackgroundImageCache",false,true)}catch(c){}}document.head=document.getElementsByTagName("head")[0]||document.documentElement;f.restricted=false;if(window!=window.parent){var l,h;try{l=window.parent.document;h=window.parent.document.getElementsByTagName("*");l=h=null}catch(d){f.restricted=true}}f.getRootWin=function(){var o=window;while(o!=o.parent){try{var e=o.parent.document;var n=e.getElementsByTagName("*")}catch(m){return o}if(typeof o.parent.Cms!="object"){return o}o=o.parent}return o};f.rootWin=f.getRootWin();f.rootDoc=f.rootWin.document;f.mixin=f.mix=function(o,e,n){if(!o){o={}}if(n){f.mix(o,n)}if(o&&e&&typeof e==="object"){var m;for(m in e){if(e.hasOwnProperty(m)){o[m]=e[m]}}}return o};f.mixinIf=f.mixIf=function(o,m,e){if(!o){o={}}var n;for(n in m){if(typeof(o[n])==="undefined"){o[n]=m[n]}else{if(e&&typeof(o[n])==="object"&&o[n]!==null&&typeof(m[n])==="object"&&m[n]!==null){o[n]=f.mixIf(o[n],m[n],e)}}}return o};f.loadJS=f.loadJs=function(o,e){var p=document.getElementsByTagName("head")[0]||document.documentElement,n=document.createElement("script"),m=false;n.src=o;n.onerror=n.onload=n.onreadystatechange=function(){if(!m&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){m=true;if(e){e()}n.onerror=n.onload=n.onreadystatechange=null}};p.appendChild(n)};f.loadJsonp=(function(){var e=+(new Date());return function(n,o,m){if(typeof o=="function"){m=o;o=null}var p="_jsonpcallback"+e++;window[p]=function(q){if(m){m(q)}window[p]=null};n+=(/\?/.test(n)?"&":"?")+"callback="+p;if(o){n+="&"+f.JSON.toQuery(o)}f.loadJs(n,null)}}());f.loadCSS=f.loadCss=function(n,q){q=q&&f.isWindow(q)?q:window;var m=q.document;var o=m.getElementsByTagName("head")[0]||m.documentElement;if(m.createStyleSheet){m.createStyleSheet(n)}else{var p=m.createElement("link");p.rel="stylesheet";p.type="text/css";p.href=n;o.appendChild(p)}};f.addStyle=function(n,m,p){if(!(p&&f.isWindow(p))){if(m&&f.isWindow(m)){p=m;m=null}}p=p&&f.isWindow(p)?p:window;var e=p.document;if(!m){m=n;n="style"+(1+f.startTime)}if(m.indexOf("{")<1&&m.indexOf("}")<1&&/^\S$/.test(m)){return f.loadCSS(m,p)}var o=e.getElementById(n);if(!o){o=e.createElement("style");o.type="text/css";o.id=n;e.getElementsByTagName("head")[0].appendChild(o)}if(o.styleSheet){o.styleSheet.cssText+=m}else{m=e.createTextNode(m);o.appendChild(m)}return o};if(typeof window.console=="undefined"){window.console={log:function(){},warn:function(){},error:function(){},debug:function(){}}}f.toArray=function(p,q,e){if(!p||!p.length){return[]}if(typeof p.length=="number"){var o=[];var n=0,m=p.length;for(;n<m;n++){o.push(p[n])}return o.slice(q||0,e||o.length)}};f.isBoolean=function(e){return typeof e==="boolean"};f.isNumber=function(e){return typeof e==="number"&&isFinite(e)};f.isInt=function(e){return f.isNumber(e)&&(/^\-?\d+$/).test(""+e)};f.isString=function(e){return typeof e==="string"};f.isEmpty=function(m,e){return m===null||m===undefined||(b.apply(m)==="[object Array]"&&!m.length)||(!e?m==="":false)};f.isNull=function(e){return e===null||typeof e==="undefined"};f.isNotNull=function(e){return !isNull(e)};f.isObject=function(e){return !!e&&typeof e==="object"};f.isPlainObject=function(e){return !!e&&e.constructor===Object};f.isFunction=function(e){return !!e&&b.apply(e)==="[object Function]"};f.isArray=function(e){return !!e&&b.apply(e)==="[object Array]"};f.isArrayLike=function(e){if(!e||e.document||e.nodeType||f.isFunction(e)){return false}return typeof e==="object"&&typeof e.length==="number"};f.isElement=function(e){return !!e&&e.nodeName&&e.nodeType===1};f.isDocument=function(e){return !!e.URL&&!!e.readyState};f.isWindow=function(e){return e.document&&e.navigator&&!!e.location};f.isDate=f.isDateTime=function(e){return !!e&&b.apply(e)==="[object Date]"};f.isPrimitive=function(e){return f.isString(e)||f.isNumber(e)||f.isBoolean(e)};f.isIterable=function(e){if(f.isArray(e)||e.callee){return true}if(/NodeList|HTMLCollection/.test(b.call(e))){return true}return((typeof e.nextNode!="undefined"||e.item)&&f.isNumber(e.length))};f.each=function(p,o,n){if(f.isEmpty(p,true)){return}if(!f.isIterable(p)||f.isPrimitive(p)){p=[p]}for(var m=0,e=p.length;m<e;m++){if(o.call(n||p[m],p[m],m,p)===false){return m}}};f.iterate=function(n,m,e){if(f.isEmpty(n)){return}if(f.isIterable(n)){f.each(n,m,e);return}else{if(f.isObject(n)){for(var o in n){if(n.hasOwnProperty(o)){if(m.call(e||n,o,n[o],n)===false){return}}}}}};f.namespace=function(){var n=arguments,e=n.length,u=null,q,m,t,r=(n[e-1]===true&&e--);for(q=0;q<e;q++){t=(""+n[q]).split(".");u=r?Cms:this;for(m=(Cms[t[0]]===u)?1:0;m<t.length;++m){u=u[t[m]]=u[t[m]]||{}}}return u};f.noopFn=function(){}})();(function(){function aR(d,a,c){c=(c||0)-1;for(var b=d?d.length:0;++c<b;){if(d[c]===a){return c}}return -1}function aK(b,d){var c=typeof d;if(b=b.l,"boolean"==c||null==d){return b[d]?0:-1}"number"!=c&&"string"!=c&&(c="object");var a="number"==c?d:a4+d;return b=(b=b[c])&&b[a],"object"==c?b&&-1<aR(b,d)?0:-1:b?0:-1}function a1(d){var a=this.l,c=typeof d;if("boolean"==c||null==d){a[d]=true}else{"number"!=c&&"string"!=c&&(c="object");var b="number"==c?d:a4+d,a=a[c]||(a[c]={});"object"==c?(a[b]||(a[b]=[])).push(d):a[b]=true}}function aM(a){return a.charCodeAt(0)}function aJ(l,f){for(var h=l.m,g=f.m,c=-1,j=h.length;++c<j;){var b=h[c],d=g[c];if(b!==d){if(b>d||typeof b=="undefined"){return 1}if(b<d||typeof d=="undefined"){return -1}}}return l.n-f.n}function aQ(g){var d=-1,e=g.length,c=g[0],f=g[e/2|0],b=g[e-1];if(c&&typeof c=="object"&&f&&typeof f=="object"&&b&&typeof b=="object"){return false}for(c=aT(),c["false"]=c["null"]=c["true"]=c.undefined=false,f=aT(),f.k=g,f.l=c,f.push=a1;++d<e;){f.push(g[d])}return f}function a5(a){return"\\"+ab[a]}function aW(){return aI.pop()||[]}function aT(){return aF.pop()||{k:null,l:null,m:null,"false":false,n:0,"null":false,number:null,object:null,push:null,string:null,"true":false,undefined:false,o:null}}function a0(a){return typeof a.toString!="function"&&typeof(a+"")=="string"}function a3(a){a.length=0,aI.length<aH&&aI.push(a)}function aP(b){var a=b.l;a&&aP(a),b.k=b.l=b.m=b.object=b.number=b.string=b.o=null,aF.length<aH&&aF.push(b)}function aL(f,b,d){b||(b=0),typeof d=="undefined"&&(d=f?f.length:0);var c=-1;d=d-b||0;for(var a=Array(0>d?0:d);++c<d;){a[c]=f[b+c]}return a}function aY(bh){function X(e){return e&&typeof e=="object"&&!q(e)&&t.call(e,"__wrapped__")?e:new U(e)}function U(w,e){this.__chain__=!!e,this.__wrapped__=w}function V(bt){function y(){if(Y){var ce=aL(Y);I.apply(ce,arguments)}if(this instanceof y){var e=bp(be.prototype),ce=be.apply(e,ce||arguments);return cd(ce)?ce:e}return be.apply(w,ce||arguments)}var be=bt[0],Y=bt[2],w=bt[4];return bJ(y,bt),y}function bo(be,ct,cq,w,cs){if(cq){var Y=cq(be);if(typeof Y!="undefined"){return Y}}if(!cd(be)){return be}var cr=by.call(be);if(!ae[cr]||!r.nodeClass&&a0(be)){return be}var bt=b2[cr];switch(cr){case ao:case aE:return new bt(+be);case ad:case an:return new bt(be);case aq:return Y=bt(be.source,ah.exec(be)),Y.lastIndex=be.lastIndex,Y}if(cr=q(be),ct){var y=!w;w||(w=aW()),cs||(cs=aW());for(var ce=w.length;ce--;){if(w[ce]==be){return cs[ce]}}Y=cr?bt(be.length):{}}else{Y=cr?aL(be):b({},be)}return cr&&(t.call(be,"index")&&(Y.index=be.index),t.call(be,"input")&&(Y.input=be.input)),ct?(w.push(be),cs.push(Y),(cr?A:bx)(be,function(cu,e){Y[e]=bo(cu,ct,cq,w,cs)}),y&&(a3(w),a3(cs)),Y):Y}function bp(e){return cd(e)?co(e):{}}function bv(bt,y,be){if(typeof bt!="function"){return bO}if(typeof y=="undefined"||!("prototype" in bt)){return bt}var Y=bt.__bindData__;if(typeof Y=="undefined"&&(r.funcNames&&(Y=!bt.name),Y=Y||!r.funcDecomp,!Y)){var w=bu.call(bt);r.funcNames||(Y=!aA.test(w)),Y||(Y=az.test(w),bJ(bt,Y))}if(false===Y||true!==Y&&1&Y[1]){return bt}switch(be){case 1:return function(ce){return bt.call(y,ce)};case 2:return function(cq,ce){return bt.call(y,cq,ce)};case 3:return function(cr,cq,ce){return bt.call(y,cr,cq,ce)};case 4:return function(cr,cq,ce,cs){return bt.call(y,cr,cq,ce,cs)}}return ca(bt,y)}function cp(be){function cw(){var cx=bt?cu:this;if(cv){var e=aL(cv);I.apply(e,arguments)}return(Y||ct)&&(e||(e=aL(arguments)),Y&&I.apply(e,Y),ct&&e.length<ce)?(w|=16,cp([cs,y?w:-4&w,e,null,cu,ce])):(e||(e=arguments),cr&&(cs=cx[cq]),this instanceof cw?(cx=bp(cs.prototype),e=cs.apply(cx,e),cd(e)?e:cx):cs.apply(cx,e))}var cs=be[0],w=be[1],cv=be[2],Y=be[3],cu=be[4],ce=be[5],bt=1&w,cr=2&w,ct=4&w,y=8&w,cq=cs;return bJ(cw,be),cw}function b9(cq,bt){var Y=-1,y=bm(),be=cq?cq.length:0,w=be>=a6&&y===aR,ce=[];if(w){var cr=aQ(bt);cr?(y=aK,bt=cr):w=false}for(;++Y<be;){cr=cq[Y],0>y(bt,cr)&&ce.push(cr)}return w&&aP(bt),ce}function W(Y,ct,cq,w){w=(w||0)-1;for(var cs=Y?Y.length:0,y=[];++w<cs;){var cr=Y[w];if(cr&&typeof cr=="object"&&typeof cr.length=="number"&&(q(cr)||x(cr))){ct||(cr=W(cr,ct,cq));var bt=-1,be=cr.length,ce=y.length;for(y.length+=be;++bt<be;){y[ce++]=cr[bt]}}else{cq||y.push(cr)}}return y}function bH(be,cu,cr,w,ct,Y){if(cr){var cs=cr(be,cu);if(typeof cs!="undefined"){return !!cs}}if(be===cu){return 0!==be||1/be==1/cu}if(be===be&&!(be&&ac[typeof be]||cu&&ac[typeof cu])){return false}if(null==be||null==cu){return be===cu}var bt=by.call(be),y=by.call(cu);if(bt==ag&&(bt=au),y==ag&&(y=au),bt!=y){return false}switch(bt){case ao:case aE:return +be==+cu;case ad:return be!=+be?cu!=+cu:0==be?1/be==1/cu:be==+cu;case aq:case an:return be==bb(cu)}if(y=bt==aD,!y){var cv=t.call(be,"__wrapped__"),cq=t.call(cu,"__wrapped__");if(cv||cq){return bH(cv?be.__wrapped__:be,cq?cu.__wrapped__:cu,cr,w,ct,Y)}if(bt!=au||!r.nodeClass&&(a0(be)||a0(cu))){return false}if(bt=!r.argsObject&&x(be)?bf:be.constructor,cv=!r.argsObject&&x(cu)?bf:cu.constructor,bt!=cv&&!(B(bt)&&bt instanceof bt&&B(cv)&&cv instanceof cv)&&"constructor" in be&&"constructor" in cu){return false}}for(bt=!ct,ct||(ct=aW()),Y||(Y=aW()),cv=ct.length;cv--;){if(ct[cv]==be){return Y[cv]==cu}}var ce=0,cs=true;if(ct.push(be),Y.push(cu),y){if(cv=be.length,ce=cu.length,(cs=ce==cv)||w){for(;ce--;){if(y=cv,cq=cu[ce],w){for(;y--&&!(cs=bH(be[y],cq,cr,w,ct,Y));){}}else{if(!(cs=bH(be[ce],cq,cr,w,ct,Y))){break}}}}}else{br(cu,function(cx,cw,e){return t.call(e,cw)?(ce++,cs=t.call(be,cw)&&bH(be[cw],cx,cr,w,ct,Y)):void 0}),cs&&!w&&br(be,function(cy,cw,cx){return t.call(cx,cw)?cs=-1<--ce:void 0})}return ct.pop(),Y.pop(),bt&&(a3(ct),a3(Y)),cs}function R(bt,y,be,Y,w){(q(y)?S:bx)(y,function(cr,ct){var ce,cq,e=cr,cs=bt[ct];if(cr&&((cq=q(cr))||a(cr))){for(e=Y.length;e--;){if(ce=Y[e]==cr){cs=w[e];break}}if(!ce){var cu;be&&(e=be(cs,cr),cu=typeof e!="undefined")&&(cs=e),cu||(cs=cq?q(cs)?cs:[]:a(cs)?cs:{}),Y.push(cr),w.push(cs),cu||R(cs,cr,be,Y,w)}}else{be&&(e=be(cs,cr),typeof e=="undefined"&&(e=cr)),typeof e!="undefined"&&(cs=e)}bt[ct]=cs})}function b6(w,e){return w+F(o()*(e-w+1))}function b3(cq,w,cu){var cs=-1,Y=bm(),ce=cq?cq.length:0,cv=[],bt=!w&&ce>=a6&&Y===aR,be=cu||bt?aW():cv;for(bt&&(be=aQ(be),Y=aK);++cs<ce;){var ct=cq[cs],cr=cu?cu(ct,cs,cq):ct;(w?!cs||be[be.length-1]!==cr:0>Y(be,cr))&&((cu||bt)&&be.push(cr),cv.push(ct))}return bt?(a3(be.k),aP(be)):cu&&a3(be),cv}function P(e){return function(Y,bt,be){var y={};if(bt=X.createCallback(bt,be,3),q(Y)){be=-1;for(var ce=Y.length;++be<ce;){var w=Y[be];e(y,w,bt(w,be,Y),Y)}}else{A(Y,function(cq,cr,cs){e(y,cq,bt(cq,cr,cs),cs)})}return y}}function D(Y,cu,cq,w,ct,y){var cs=1&cu,bt=4&cu,be=16&cu,ce=32&cu;if(!(2&cu||B(Y))){throw new ch}be&&!cq.length&&(cu&=-17,be=cq=false),ce&&!w.length&&(cu&=-33,ce=w=false);var cr=Y&&Y.__bindData__;return cr&&true!==cr?(cr=aL(cr),cr[2]&&(cr[2]=aL(cr[2])),cr[3]&&(cr[3]=aL(cr[3])),!cs||1&cr[1]||(cr[4]=ct),!cs&&1&cr[1]&&(cu|=8),!bt||4&cr[1]||(cr[5]=y),be&&I.apply(cr[2]||(cr[2]=[]),cq),ce&&J.apply(cr[3]||(cr[3]=[]),w),cr[1]|=cu,D.apply(null,cr)):(1==cu||17===cu?V:cp)([Y,cu,cq,w,ct,y])}function bQ(){aj.h=av,aj.b=aj.c=aj.g=aj.i="",aj.e="t",aj.j=true;for(var bt,y=0;bt=arguments[y];y++){for(var be in bt){aj[be]=bt[be]}}y=aj.a,aj.d=/^[^,]+/.exec(y)[0],bt=j,y="return function("+y+"){",be=aj;var Y="var n,t="+be.d+",E="+be.e+";if(!t)return E;"+be.i+";";be.b?(Y+="var u=t.length;n=-1;if("+be.b+"){",r.unindexedChars&&(Y+="if(s(t)){t=t.split('')}"),Y+="while(++n<u){"+be.g+";}}else{"):r.nonEnumArgs&&(Y+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+be.g+";}}else{"),r.enumPrototypes&&(Y+="var G=typeof t=='function';"),r.enumErrorProps&&(Y+="var F=t===k||t instanceof Error;");var w=[];if(r.enumPrototypes&&w.push('!(G&&n=="prototype")'),r.enumErrorProps&&w.push('!(F&&(n=="message"||n=="name"))'),be.j&&be.f){Y+="var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];",w.length&&(Y+="if("+w.join("&&")+"){"),Y+=be.g+";",w.length&&(Y+="}"),Y+="}"}else{if(Y+="for(n in t){",be.j&&w.push("m.call(t, n)"),w.length&&(Y+="if("+w.join("&&")+"){"),Y+=be.g+";",w.length&&(Y+="}"),Y+="}",r.nonEnumShadows){for(Y+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++){Y+="n='"+be.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",be.j||(Y+="||(!x[n]&&t[n]!==A[n])"),Y+="){"+be.g+"}"}Y+="}"}}return(be.b||r.nonEnumArgs)&&(Y+="}"),Y+=be.c+";return E",bt("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",y+Y+"}")(bv,aN,a8,t,a2,x,q,c,aj.f,L,ac,bE,an,bZ,by)}function bL(e){return bl[e]}function bm(){var e=(e=X.indexOf)===bz?aR:e;return e}function G(e){return typeof e=="function"&&N.test(e)}function bT(Y){var w,y;return !Y||by.call(Y)!=au||(w=Y.constructor,B(w)&&!(w instanceof w))||!r.argsClass&&x(Y)||!r.nodeClass&&a0(Y)?false:r.ownLast?(br(Y,function(bt,e,be){return y=t.call(be,e),false}),false!==y):(br(Y,function(be,e){y=e}),typeof y=="undefined"||t.call(Y,y))}function bN(e){return bX[e]}function x(e){return e&&typeof e=="object"&&typeof e.length=="number"&&by.call(e)==ag||false}function bk(bt,y,be){var Y=Q(bt),w=Y.length;for(y=bv(y,be,3);w--&&(be=Y[w],false!==y(bt[be],be,bt));){}return bt}function cm(w){var e=[];return br(w,function(Y,y){B(Y)&&e.push(y)}),e.sort()}function l(ce){for(var y=-1,be=Q(ce),Y=be.length,w={};++y<Y;){var bt=be[y];w[ce[bt]]=bt}return w}function B(e){return typeof e=="function"}function cd(e){return !(!e||!ac[typeof e])}function bn(e){return typeof e=="number"||e&&typeof e=="object"&&by.call(e)==ad||false}function c(e){return typeof e=="string"||e&&typeof e=="object"&&by.call(e)==an||false}function C(bt){for(var y=-1,be=Q(bt),Y=be.length,w=bY(Y);++y<Y;){w[y]=bt[be[y]]}return w}function bw(cq,Y,bt){var be=-1,y=bm(),ce=cq?cq.length:0,w=false;return bt=(0>bt?bU(0,ce+bt):bt)||0,q(cq)?w=-1<y(cq,Y,bt):typeof ce=="number"?w=-1<(c(cq)?cq.indexOf(Y,bt):y(cq,Y,bt)):A(cq,function(e){return ++be<bt?void 0:!(w=e===Y)}),w}function cg(bt,y,be){var Y=true;if(y=X.createCallback(y,be,3),q(bt)){be=-1;for(var w=bt.length;++be<w&&(Y=!!y(bt[be],be,bt));){}}else{A(bt,function(cr,cq,ce){return Y=!!y(cr,cq,ce)})}return Y}function b4(ce,y,be){var Y=[];if(y=X.createCallback(y,be,3),q(ce)){be=-1;for(var w=ce.length;++be<w;){var bt=ce[be];y(bt,be,ce)&&Y.push(bt)}}else{A(ce,function(cs,cr,cq){y(cs,cr,cq)&&Y.push(cs)})}return Y}function bq(ce,y,be){if(y=X.createCallback(y,be,3),!q(ce)){var Y;return A(ce,function(cs,cr,cq){return y(cs,cr,cq)?(Y=cs,false):void 0}),Y}be=-1;for(var w=ce.length;++be<w;){var bt=ce[be];if(y(bt,be,ce)){return bt}}}function S(be,w,Y){if(w&&typeof Y=="undefined"&&q(be)){Y=-1;for(var y=be.length;++Y<y&&false!==w(be[Y],Y,be);){}}else{A(be,w,Y)}return be}function bR(ce,y,be){var Y=ce,w=ce?ce.length:0;if(y=y&&typeof be=="undefined"?y:bv(y,be,3),q(ce)){for(;w--&&false!==y(ce[w],w,ce);){}}else{if(typeof w!="number"){var bt=Q(ce),w=bt.length}else{r.unindexedChars&&c(ce)&&(Y=ce.split(""))}A(ce,function(cs,cr,cq){return cr=bt?bt[--w]:--w,y(Y[cr],cr,cq)})}return ce}function bM(ce,y,be){var Y=-1,w=ce?ce.length:0,bt=bY(typeof w=="number"?w:0);if(y=X.createCallback(y,be,3),q(ce)){for(;++Y<w;){bt[Y]=y(ce[Y],Y,ce)}}else{A(ce,function(cs,cr,cq){bt[++Y]=y(cs,cr,cq)})}return bt}function a9(cq,be,bt){var y=-1/0,ce=y;if(typeof be!="function"&&bt&&bt[be]===cq&&(be=null),null==be&&q(cq)){bt=-1;for(var w=cq.length;++bt<w;){var Y=cq[bt];Y>ce&&(ce=Y)}}else{be=null==be&&c(cq)?aM:X.createCallback(be,bt,3),A(cq,function(ct,cs,cr){cs=be(ct,cs,cr),cs>y&&(y=cs,ce=ct)})}return ce}function m(cq,Y,bt,be){var y=3>arguments.length;if(Y=X.createCallback(Y,be,4),q(cq)){var ce=-1,w=cq.length;for(y&&(bt=cq[++ce]);++ce<w;){bt=Y(bt,cq[ce],ce,cq)}}else{A(cq,function(cs,e,cr){bt=y?(y=false,cs):Y(bt,cs,e,cr)})}return bt}function d(bt,y,be,Y){var w=3>arguments.length;return y=X.createCallback(y,Y,4),bR(bt,function(cq,e,ce){be=w?(w=false,cq):y(be,cq,e,ce)}),be}function bV(be){var w=-1,Y=be?be.length:0,y=bY(typeof Y=="number"?Y:0);return S(be,function(ce){var bt=b6(0,++w);y[w]=y[bt],y[bt]=ce}),y}function bs(bt,y,be){var Y;if(y=X.createCallback(y,be,3),q(bt)){be=-1;for(var w=bt.length;++be<w&&!(Y=y(bt[be],be,bt));){}}else{A(bt,function(cr,cq,ce){return !(Y=y(cr,cq,ce))})}return !!Y}function h(ce,y,be){var Y=0,w=ce?ce.length:0;if(typeof y!="number"&&null!=y){var bt=-1;for(y=X.createCallback(y,be,3);++bt<w&&y(ce[bt],bt,ce);){Y++}}else{if(Y=y,null==Y||be){return ce?ce[0]:aX}}return aL(ce,0,bj(bU(0,Y),w))}function bz(y,be,Y){if(typeof Y=="number"){var w=y?y.length:0;Y=0>Y?bU(0,w+Y):Y||0}else{if(Y){return Y=E(y,be),y[Y]===be?Y:-1}}return aR(y,be,Y)}function g(ce,y,be){if(typeof y!="number"&&null!=y){var Y=0,w=-1,bt=ce?ce.length:0;for(y=X.createCallback(y,be,3);++w<bt&&y(ce[w],w,ce);){Y++}}else{Y=null==y||be?1:bU(0,y)}return aL(ce,Y)}function E(ce,y,be,Y){var w=0,bt=ce?ce.length:w;for(be=be?X.createCallback(be,Y,1):bO,y=be(y);w<bt;){Y=w+bt>>>1,be(ce[Y])<y?w=Y+1:bt=Y}return w}function K(be,w,Y,y){return typeof w!="boolean"&&null!=w&&(y=Y,Y=typeof w!="function"&&y&&y[w]===be?null:w,w=false),null!=Y&&(Y=X.createCallback(Y,y,3)),b3(be,w,Y)}function b7(){for(var be=1<arguments.length?arguments:arguments[0],w=-1,Y=be?a9(bI(be,"length")):0,y=bY(0>Y?0:Y);++w<Y;){y[w]=bI(be,w)}return y}function Z(ce,y){var be=-1,Y=ce?ce.length:0,w={};for(y||!Y||q(ce[0])||(y=[]);++be<Y;){var bt=ce[be];y?w[bt]=y[be]:bt&&(w[bt[0]]=bt[1])}return w}function ca(w,e){return 2<arguments.length?D(w,17,aL(arguments,2),null,e):D(w,1,null,null,e)}function bd(bt,cz,ct){var w,cy,be,cw,cq,ce,cs,cu=0,Y=false,cA=true;if(!B(bt)){throw new ch}if(cz=bU(0,cz)||0,true===ct){var cr=true,cA=false}else{cd(ct)&&(cr=ct.leading,Y="maxWait" in ct&&(bU(cz,ct.maxWait)||0),cA="trailing" in ct?ct.trailing:cA)}var cx=function(){var y=cz-(T()-cw);0<y?ce=bA(cx,y):(cy&&bW(cy),y=cs,cy=ce=cs=aX,y&&(cu=T(),be=bt.apply(cq,w),ce||cy||(w=cq=null)))},cv=function(){ce&&bW(ce),cy=ce=cs=aX,(cA||Y!==cz)&&(cu=T(),be=bt.apply(cq,w),ce||cy||(w=cq=null))};return function(){if(w=arguments,cw=T(),cq=this,cs=cA&&(ce||!cr),false===Y){var cC=cr&&!ce}else{cy||cr||(cu=cw);var cB=Y-(cw-cu),y=0>=cB;y?(cy&&(cy=bW(cy)),cu=cw,be=bt.apply(cq,w)):cy||(cy=bA(cv,cB))}return y&&ce?ce=bW(ce):ce||cz===Y||(ce=bA(cx,cz)),cC&&(y=true,be=bt.apply(cq,w)),!y||ce||cy||(w=cq=null),be}}function bO(e){return e}function bB(cq,Y,bt){var be=true,y=Y&&cm(Y);Y&&(bt||y.length)||(null==bt&&(bt=Y),ce=U,Y=cq,cq=X,y=cm(Y)),false===bt?be=false:cd(bt)&&"chain" in bt&&(be=bt.chain);var ce=cq,w=B(ce);S(y,function(cs){var cr=cq[cs]=Y[cs];w&&(ce.prototype[cs]=function(){var cu=this.__chain__,cv=this.__wrapped__,ct=[cv];if(I.apply(ct,arguments),ct=cr.apply(cq,ct),be||cu){if(cv===ct&&cd(ct)){return this}ct=new ce(ct),ct.__chain__=cu}return ct})})}function H(){}function p(e){return function(w){return w[e]}}function cj(){return this.__wrapped__}bh=bh?aC.defaults(aa.Object(),bh,aC.pick(aa,ai)):aa;var bY=bh.Array,bC=bh.Boolean,bF=bh.Date,j=bh.Function,ck=bh.Math,bi=bh.Number,bf=bh.Object,bP=bh.RegExp,bb=bh.String,ch=bh.TypeError,cc=[],a8=bh.Error.prototype,L=bf.prototype,bZ=bb.prototype,bS=bh._,by=L.toString,N=bP("^"+bb(by).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),b1=ck.ceil,bW=bh.clearTimeout,F=ck.floor,bu=j.prototype.toString,f=G(f=bf.getPrototypeOf)&&f,t=L.hasOwnProperty,I=cc.push,cn=L.propertyIsEnumerable,bA=bh.setTimeout,n=cc.splice,J=cc.unshift,bG=function(){try{var be={},w=G(w=bf.defineProperty)&&w,Y=w(be,be,be)&&w}catch(y){}return Y}(),co=G(co=bf.create)&&co,cf=G(cf=bY.isArray)&&cf,bD=bh.isFinite,bc=bh.isNaN,b0=G(b0=bf.keys)&&b0,bU=ck.max,bj=ck.min,u=bh.parseInt,o=ck.random,b2={};b2[aD]=bY,b2[ao]=bC,b2[aE]=bF,b2[ap]=j,b2[au]=bf,b2[ad]=bi,b2[aq]=bP,b2[an]=bb;var bE={};bE[aD]=bE[aE]=bE[ad]={constructor:true,toLocaleString:true,toString:true,valueOf:true},bE[ao]=bE[an]={constructor:true,toString:true,valueOf:true},bE[aN]=bE[ap]=bE[aq]={constructor:true,toString:true},bE[au]={constructor:true},function(){for(var Y=av.length;Y--;){var w,y=av[Y];for(w in bE){t.call(bE,w)&&!t.call(bE[w],y)&&(bE[w][y]=false)}}}(),U.prototype=X.prototype;var r=X.support={};!function(){var be=function(){this.x=1},w={0:1,length:1},y=[];be.prototype={valueOf:1,y:1};for(var e in new be){y.push(e)}for(e in arguments){}r.argsClass=by.call(arguments)==ag,r.argsObject=arguments.constructor==bf&&!(arguments instanceof bY),r.enumErrorProps=cn.call(a8,"message")||cn.call(a8,"name"),r.enumPrototypes=cn.call(be,"prototype"),r.funcDecomp=!G(bh.WinRTError)&&az.test(aY),r.funcNames=typeof j.name=="string",r.nonEnumArgs=0!=e,r.nonEnumShadows=!/valueOf/.test(y),r.ownLast="x"!=y[0],r.spliceObjects=(cc.splice.call(w,0,1),!w[0]),r.unindexedChars="xx"!="x"[0]+bf("x")[0];try{r.nodeClass=!(by.call(document)==au&&!({toString:0}+""))}catch(Y){r.nodeClass=true}}(1),X.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:ar,variable:"",imports:{_:X}},co||(bp=function(){function e(){}return function(w){if(cd(w)){e.prototype=w;var y=new e;e.prototype=null}return y||bh.Object()}}());var bJ=bG?function(w,e){af.value=e,bG(w,"__bindData__",af)}:H;r.argsClass||(x=function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&t.call(e,"callee")&&!cn.call(e,"callee")||false});var q=cf||function(e){return e&&typeof e=="object"&&typeof e.length=="number"&&by.call(e)==aD||false},M=bQ({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),Q=b0?function(e){return cd(e)?r.enumPrototypes&&typeof e=="function"||r.nonEnumArgs&&e.length&&x(e)?M(e):b0(e):[]}:M,ci={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",v:Q,g:"if(e(t[n],n,g)===false)return E"},bg={a:"z,H,l",i:"var a=arguments,b=0,c=typeof l=='number'?2:a.length;while(++b<c){t=a[b];if(t&&B[typeof t]){",v:Q,g:"if(typeof E[n]=='undefined')E[n]=t[n]",c:"}}"},cl={i:"if(!B[typeof t])return E;"+ci.i,b:false},bl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bX=l(bl),bK=bP("("+Q(bX).join("|")+")","g"),O=bP("["+Q(bl).join("")+"]","g"),A=bQ(ci),b=bQ(bg,{i:bg.i.replace(";",";if(c>3&&typeof a[c-2]=='function'){var e=d(a[--c-1],a[c--],2)}else if(c>2&&typeof a[c-1]=='function'){e=a[--c]}"),g:"E[n]=e?e(E[n],t[n]):t[n]"}),b5=bQ(bg),br=bQ(ci,cl,{j:false}),bx=bQ(ci,cl);B(/x/)&&(B=function(e){return typeof e=="function"&&by.call(e)==ap});var a=f?function(Y){if(!Y||by.call(Y)!=au||!r.argsClass&&x(Y)){return false}var w=Y.valueOf,y=G(w)&&(y=f(w))&&f(y);return y?Y==y||f(Y)==y:bT(Y)}:bT,cb=P(function(Y,w,y){t.call(Y,y)?Y[y]++:Y[y]=1}),ba=P(function(Y,w,y){(t.call(Y,y)?Y[y]:Y[y]=[]).push(w)}),a7=P(function(Y,w,y){Y[y]=w}),bI=bM,T=G(T=bF.now)&&T||function(){return(new bF).getTime()},b8=8==u(aV+"08")?u:function(w,e){return u(c(w)?w.replace(ax,""):w,e||0)};return X.after=function(w,e){if(!B(e)){throw new ch}return function(){return 1>--w?e.apply(this,arguments):void 0}},X.assign=b,X.at=function(bt){var y=arguments,be=-1,Y=W(y,true,false,1),y=y[2]&&y[2][y[1]]===bt?1:Y.length,w=bY(y);for(r.unindexedChars&&c(bt)&&(bt=bt.split(""));++be<y;){w[be]=bt[Y[be]]}return w},X.bind=ca,X.bindAll=function(bt){for(var y=1<arguments.length?W(arguments,true,false,1):cm(bt),be=-1,Y=y.length;++be<Y;){var w=y[be];bt[w]=D(bt[w],1,null,null,bt)}return bt},X.bindKey=function(w,e){return 2<arguments.length?D(e,19,aL(arguments,2),null,w):D(e,3,null,null,w)},X.chain=function(e){return e=new U(e),e.__chain__=true,e},X.compact=function(bt){for(var y=-1,be=bt?bt.length:0,Y=[];++y<be;){var w=bt[y];w&&Y.push(w)}return Y},X.compose=function(){for(var w=arguments,e=w.length;e--;){if(!B(w[e])){throw new ch}}return function(){for(var y=arguments,Y=w.length;Y--;){y=[w[Y].apply(this,y)]}return y[0]}},X.constant=function(e){return function(){return e}},X.countBy=cb,X.create=function(Y,w){var y=bp(Y);return w?b(y,w):y},X.createCallback=function(cq,Y,bt){var be=typeof cq;if(null==cq||"function"==be){return bv(cq,Y,bt)}if("object"!=be){return p(cq)}var y=Q(cq),ce=y[0],w=cq[ce];return 1!=y.length||w!==w||cd(w)?function(cr){for(var ct=y.length,cs=false;ct--&&(cs=bH(cr[y[ct]],cq[y[ct]],null,true));){}return cs}:function(e){return e=e[ce],w===e&&(0!==w||1/w==1/e)}},X.curry=function(w,e){return e=typeof e=="number"?e:+e||w.length,D(w,4,null,null,null,e)},X.debounce=bd,X.defaults=b5,X.defer=function(w){if(!B(w)){throw new ch}var e=aL(arguments,1);return bA(function(){w.apply(aX,e)},1)},X.delay=function(Y,w){if(!B(Y)){throw new ch}var y=aL(arguments,2);return bA(function(){Y.apply(aX,y)},w)},X.difference=function(e){return b9(e,W(arguments,true,true,1))},X.filter=b4,X.flatten=function(be,w,Y,y){return typeof w!="boolean"&&null!=w&&(y=Y,Y=typeof w!="function"&&y&&y[w]===be?null:w,w=false),null!=Y&&(be=bM(be,Y,y)),W(be,w)},X.forEach=S,X.forEachRight=bR,X.forIn=br,X.forInRight=function(bt,y,be){var Y=[];br(bt,function(ce,e){Y.push(e,ce)});var w=Y.length;for(y=bv(y,be,3);w--&&false!==y(Y[w--],Y[w],bt);){}return bt},X.forOwn=bx,X.forOwnRight=bk,X.functions=cm,X.groupBy=ba,X.indexBy=a7,X.initial=function(ce,y,be){var Y=0,w=ce?ce.length:0;if(typeof y!="number"&&null!=y){var bt=w;for(y=X.createCallback(y,be,3);bt--&&y(ce[bt],bt,ce);){Y++}}else{Y=null==y||be?1:y||Y}return aL(ce,0,bj(bU(0,w-Y),w))},X.intersection=function(){for(var cr=[],w=-1,cv=arguments.length,ct=aW(),be=bm(),cq=be===aR,cw=aW();++w<cv;){var ce=arguments[w];(q(ce)||x(ce))&&(cr.push(ce),ct.push(cq&&ce.length>=a6&&aQ(w?cr[w]:cw)))}var cq=cr[0],bt=-1,cu=cq?cq.length:0,cs=[];aR:for(;++bt<cu;){var Y=ct[0],ce=cq[bt];if(0>(Y?aK(Y,ce):be(cw,ce))){for(w=cv,(Y||cw).push(ce);--w;){if(Y=ct[w],0>(Y?aK(Y,ce):be(cr[w],ce))){continue aR}}cs.push(ce)}}for(;cv--;){(Y=ct[cv])&&aP(Y)}return a3(ct),a3(cw),cs},X.invert=l,X.invoke=function(cq,Y){var bt=aL(arguments,2),be=-1,y=typeof Y=="function",ce=cq?cq.length:0,w=bY(typeof ce=="number"?ce:0);return S(cq,function(e){w[++be]=(y?Y:e[Y]).apply(e,bt)}),w},X.keys=Q,X.map=bM,X.mapValues=function(be,w,Y){var y={};return w=X.createCallback(w,Y,3),bx(be,function(cq,ce,bt){y[ce]=w(cq,ce,bt)}),y},X.max=a9,X.memoize=function(Y,w){if(!B(Y)){throw new ch}var y=function(){var be=y.cache,e=w?w.apply(this,arguments):a4+arguments[0];return t.call(be,e)?be[e]:be[e]=Y.apply(this,arguments)};return y.cache={},y},X.merge=function(cq){var Y=arguments,bt=2;if(!cd(cq)){return cq}if("number"!=typeof Y[2]&&(bt=Y.length),3<bt&&"function"==typeof Y[bt-2]){var be=bv(Y[--bt-1],Y[bt--],2)}else{2<bt&&"function"==typeof Y[bt-1]&&(be=Y[--bt])}for(var Y=aL(arguments,1,bt),y=-1,ce=aW(),w=aW();++y<bt;){R(cq,Y[y],be,ce,w)}return a3(ce),a3(w),cq},X.min=function(cq,be,bt){var y=1/0,ce=y;if(typeof be!="function"&&bt&&bt[be]===cq&&(be=null),null==be&&q(cq)){bt=-1;for(var w=cq.length;++bt<w;){var Y=cq[bt];Y<ce&&(ce=Y)}}else{be=null==be&&c(cq)?aM:X.createCallback(be,bt,3),A(cq,function(ct,cs,cr){cs=be(ct,cs,cr),cs<y&&(y=cs,ce=ct)})}return ce},X.omit=function(cr,be,ce){var bt={};if(typeof be!="function"){var y=[];br(cr,function(cs,e){y.push(e)});for(var y=b9(y,W(arguments,true,false,1)),cq=-1,w=y.length;++cq<w;){var Y=y[cq];bt[Y]=cr[Y]}}else{be=X.createCallback(be,ce,3),br(cr,function(cu,ct,cs){be(cu,ct,cs)||(bt[ct]=cu)})}return bt},X.once=function(Y){var w,y;if(!B(Y)){throw new ch}return function(){return w?y:(w=true,y=Y.apply(this,arguments),Y=null,y)}},X.pairs=function(ce){for(var y=-1,be=Q(ce),Y=be.length,w=bY(Y);++y<Y;){var bt=be[y];w[y]=[bt,ce[bt]]}return w},X.partial=function(e){return D(e,16,aL(arguments,1))},X.partialRight=function(e){return D(e,32,null,aL(arguments,1))},X.pick=function(cr,be,ce){var bt={};if(typeof be!="function"){for(var y=-1,cq=W(arguments,true,false,1),w=cd(cr)?cq.length:0;++y<w;){var Y=cq[y];Y in cr&&(bt[Y]=cr[Y])}}else{be=X.createCallback(be,ce,3),br(cr,function(cu,ct,cs){be(cu,ct,cs)&&(bt[ct]=cu)})}return bt},X.pluck=bI,X.property=p,X.pull=function(cq){for(var Y=arguments,bt=0,be=Y.length,y=cq?cq.length:0;++bt<be;){for(var ce=-1,w=Y[bt];++ce<y;){cq[ce]===w&&(n.call(cq,ce--,1),y--)}}return cq},X.range=function(bt,y,be){bt=+bt||0,be=typeof be=="number"?be:+be||1,null==y&&(y=bt,bt=0);var Y=-1;y=bU(0,b1((y-bt)/(be||1)));for(var w=bY(y);++Y<y;){w[Y]=bt,bt+=be}return w},X.reject=function(Y,w,y){return w=X.createCallback(w,y,3),b4(Y,function(ce,bt,be){return !w(ce,bt,be)})},X.remove=function(ce,y,be){var Y=-1,w=ce?ce.length:0,bt=[];for(y=X.createCallback(y,be,3);++Y<w;){be=ce[Y],y(be,Y,ce)&&(bt.push(be),n.call(ce,Y--,1),w--)}return bt},X.rest=g,X.shuffle=bV,X.sortBy=function(cq,y,bt){var Y=-1,ce=q(y),w=cq?cq.length:0,be=bY(typeof w=="number"?w:0);for(ce||(y=X.createCallback(y,bt,3)),S(cq,function(cu,ct,cs){var cr=be[++Y]=aT();ce?cr.m=bM(y,function(e){return cu[e]}):(cr.m=aW())[0]=y(cu,ct,cs),cr.n=Y,cr.o=cu}),w=be.length,be.sort(aJ);w--;){cq=be[w],be[w]=cq.o,ce||a3(cq.m),aP(cq)}return be},X.tap=function(w,e){return e(w),w},X.throttle=function(bt,y,be){var Y=true,w=true;if(!B(bt)){throw new ch}return false===be?Y=false:cd(be)&&(Y="leading" in be?be.leading:Y,w="trailing" in be?be.trailing:w),at.leading=Y,at.maxWait=y,at.trailing=w,bd(bt,y,at)},X.times=function(bt,y,be){bt=-1<(bt=+bt)?bt:0;var Y=-1,w=bY(bt);for(y=bv(y,be,1);++Y<bt;){w[Y]=y(Y)}return w},X.toArray=function(e){return e&&typeof e.length=="number"?r.unindexedChars&&c(e)?e.split(""):aL(e):C(e)},X.transform=function(ce,y,be,Y){var w=q(ce);if(null==be){if(w){be=[]}else{var bt=ce&&ce.constructor;be=bp(bt&&bt.prototype)}}return y&&(y=X.createCallback(y,Y,4),(w?A:bx)(ce,function(cr,cq,e){return y(be,cr,cq,e)})),be},X.union=function(){return b3(W(arguments,true,true))},X.uniq=K,X.values=C,X.where=b4,X.without=function(e){return b9(e,aL(arguments,1))},X.wrap=function(w,e){return D(e,16,[w])},X.xor=function(){for(var be=-1,w=arguments.length;++be<w;){var Y=arguments[be];if(q(Y)||x(Y)){var y=y?b3(b9(y,Y).concat(b9(Y,y))):Y}}return y||[]},X.zip=b7,X.zipObject=Z,X.collect=bM,X.drop=g,X.each=S,X.eachRight=bR,X.extend=b,X.methods=cm,X.object=Z,X.select=b4,X.tail=g,X.unique=K,X.unzip=b7,bB(X),X.clone=function(be,w,Y,y){return typeof w!="boolean"&&null!=w&&(y=Y,Y=w,w=false),bo(be,w,typeof Y=="function"&&bv(Y,y,1))},X.cloneDeep=function(Y,w,y){return bo(Y,true,typeof w=="function"&&bv(w,y,1))},X.contains=bw,X.escape=function(e){return null==e?"":bb(e).replace(O,bL)},X.every=cg,X.find=bq,X.findIndex=function(bt,y,be){var Y=-1,w=bt?bt.length:0;for(y=X.createCallback(y,be,3);++Y<w;){if(y(bt[Y],Y,bt)){return Y}}return -1},X.findKey=function(be,w,Y){var y;return w=X.createCallback(w,Y,3),bx(be,function(cq,ce,bt){return w(cq,ce,bt)?(y=ce,false):void 0}),y},X.findLast=function(be,w,Y){var y;return w=X.createCallback(w,Y,3),bR(be,function(cq,ce,bt){return w(cq,ce,bt)?(y=cq,false):void 0}),y},X.findLastIndex=function(be,w,Y){var y=be?be.length:0;for(w=X.createCallback(w,Y,3);y--;){if(w(be[y],y,be)){return y}}return -1},X.findLastKey=function(be,w,Y){var y;return w=X.createCallback(w,Y,3),bk(be,function(cq,ce,bt){return w(cq,ce,bt)?(y=ce,false):void 0}),y},X.has=function(w,e){return w?t.call(w,e):false},X.identity=bO,X.indexOf=bz,X.isArguments=x,X.isArray=q,X.isBoolean=function(e){return true===e||false===e||e&&typeof e=="object"&&by.call(e)==ao||false},X.isDate=function(e){return e&&typeof e=="object"&&by.call(e)==aE||false},X.isElement=function(e){return e&&1===e.nodeType||false},X.isEmpty=function(be){var w=true;if(!be){return w}var Y=by.call(be),y=be.length;return Y==aD||Y==an||(r.argsClass?Y==ag:x(be))||Y==au&&typeof y=="number"&&B(be.splice)?!y:(bx(be,function(){return w=false}),w)},X.isEqual=function(be,w,Y,y){return bH(be,w,typeof Y=="function"&&bv(Y,y,2))},X.isFinite=function(e){return bD(e)&&!bc(parseFloat(e))},X.isFunction=B,X.isNaN=function(e){return bn(e)&&e!=+e},X.isNull=function(e){return null===e},X.isNumber=bn,X.isObject=cd,X.isPlainObject=a,X.isRegExp=function(e){return e&&ac[typeof e]&&by.call(e)==aq||false},X.isString=c,X.isUndefined=function(e){return typeof e=="undefined"},X.lastIndexOf=function(be,w,Y){var y=be?be.length:0;for(typeof Y=="number"&&(y=(0>Y?bU(0,y+Y):bj(Y,y-1))+1);y--;){if(be[y]===w){return y}}return -1},X.mixin=bB,X.noConflict=function(){return bh._=bS,this},X.noop=H,X.now=T,X.parseInt=b8,X.random=function(bt,y,be){var Y=null==bt,w=null==y;return null==be&&(typeof bt=="boolean"&&w?(be=bt,bt=1):w||typeof y!="boolean"||(be=y,w=true)),Y&&w&&(y=1),bt=+bt||0,w?(y=bt,bt=0):y=+y||0,be||bt%1||y%1?(be=o(),bj(bt+be*(y-bt+parseFloat("1e-"+((be+"").length-1))),y)):b6(bt,y)},X.reduce=m,X.reduceRight=d,X.result=function(Y,w){if(Y){var y=Y[w];return B(y)?Y[w]():y}},X.runInContext=aY,X.size=function(w){var e=w?w.length:0;return typeof e=="number"?e:Q(w).length},X.some=bs,X.sortedIndex=E,X.template=function(be,cu,cr){var w=X.templateSettings;be=bb(be||""),cr=b5({},cr,w);var ct,Y=b5({},cr.imports,w.imports),w=Q(Y),Y=C(Y),ce=0,bt=cr.interpolate||am,cq="__p+='",bt=bP((cr.escape||am).source+"|"+bt.source+"|"+(bt===ar?al:am).source+"|"+(cr.evaluate||am).source+"|$","g");be.replace(bt,function(cw,cy,cx,cz,cv,cA){return cx||(cx=cz),cq+=be.slice(ce,cA).replace(ak,a5),cy&&(cq+="'+__e("+cy+")+'"),cv&&(ct=true,cq+="';"+cv+";\n__p+='"),cx&&(cq+="'+((__t=("+cx+"))==null?'':__t)+'"),ce=cA+cw.length,cw}),cq+="';",bt=cr=cr.variable,bt||(cr="obj",cq="with("+cr+"){"+cq+"}"),cq=(ct?cq.replace(aG,""):cq).replace(ay,"$1").replace(aw,"$1;"),cq="function("+cr+"){"+(bt?"":cr+"||("+cr+"={});")+"var __t,__p='',__e=_.escape"+(ct?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+cq+"return __p}";try{var cs=j(w,"return "+cq).apply(aX,Y)}catch(y){throw y.source=cq,y}return cu?cs(cu):(cs.source=cq,cs)},X.unescape=function(e){return null==e?"":bb(e).replace(bK,bN)},X.uniqueId=function(w){var e=++aS;return bb(null==w?"":w)+e},X.all=cg,X.any=bs,X.detect=bq,X.findWhere=bq,X.foldl=m,X.foldr=d,X.include=bw,X.inject=m,bB(function(){var e={};return bx(X,function(w,y){X.prototype[y]||(e[y]=w)}),e}(),false),X.first=h,X.last=function(ce,y,be){var Y=0,w=ce?ce.length:0;if(typeof y!="number"&&null!=y){var bt=w;for(y=X.createCallback(y,be,3);bt--&&y(ce[bt],bt,ce);){Y++}}else{if(Y=y,null==Y||be){return ce?ce[w-1]:aX}}return aL(ce,bU(0,w-Y))},X.sample=function(Y,w,y){return Y&&typeof Y.length!="number"?Y=C(Y):r.unindexedChars&&c(Y)&&(Y=Y.split("")),null==w||y?Y?Y[b6(0,Y.length-1)]:aX:(Y=bV(Y),Y.length=bj(bU(0,w),Y.length),Y)},X.take=h,X.head=h,bx(X,function(Y,w){var y="sample"!==w;X.prototype[w]||(X.prototype[w]=function(be,bt){var e=this.__chain__,ce=Y(this.__wrapped__,be,bt);return e||null!=be&&(!bt||y&&typeof be=="function")?new U(ce,e):ce})}),X.VERSION="2.4.1",X.prototype.chain=function(){return this.__chain__=true,this},X.prototype.toString=function(){return bb(this.__wrapped__)},X.prototype.value=cj,X.prototype.valueOf=cj,A(["join","pop","shift"],function(w){var e=cc[w];X.prototype[w]=function(){var Y=this.__chain__,y=e.apply(this.__wrapped__,arguments);return Y?new U(y,Y):y}}),A(["push","reverse","sort","unshift"],function(w){var e=cc[w];X.prototype[w]=function(){return e.apply(this.__wrapped__,arguments),this}}),A(["concat","slice","splice"],function(w){var e=cc[w];X.prototype[w]=function(){return new U(e.apply(this.__wrapped__,arguments),this.__chain__)}}),r.spliceObjects||A(["pop","shift","splice"],function(Y){var w=cc[Y],y="splice"==Y;X.prototype[Y]=function(){var bt=this.__chain__,be=this.__wrapped__,e=w.apply(be,arguments);return 0===be.length&&delete be[0],bt||y?new U(e,bt):e}}),X}var aX,aI=[],aF=[],aS=0,a2={},a4=+new Date+"",a6=75,aH=40,aV=" \t\x0B\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",aG=/\b__p\+='';/g,ay=/\b(__p\+=)''\+/g,aw=/(__e\(.*?\)|\b__t\))\+'';/g,al=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ah=/\w*$/,aA=/^\s*function[ \n\r\t]+\w/,ar=/<%=([\s\S]+?)%>/g,ax=RegExp("^["+aV+"]*0+(?=.$)"),am=/($^)/,az=/\bthis\b/,ak=/['\n\r\t\u2028\u2029\\]/g,ai="Array Boolean Date Error Function Math Number Object RegExp String _ attachEvent clearTimeout isFinite isNaN parseInt setTimeout".split(" "),av="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ag="[object Arguments]",aD="[object Array]",ao="[object Boolean]",aE="[object Date]",aN="[object Error]",ap="[object Function]",ad="[object Number]",au="[object Object]",aq="[object RegExp]",an="[object String]",ae={};ae[ap]=false,ae[ag]=ae[aD]=ae[ao]=ae[aE]=ae[ad]=ae[au]=ae[aq]=ae[an]=true;var at={leading:false,maxWait:0,trailing:false},af={configurable:false,enumerable:false,value:null,writable:false},aj={a:"",b:null,c:"",d:"",e:"",v:null,g:"",h:null,support:null,i:"",j:false},ac={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false},ab={"\\":"\\","'":"'","\n":"n","\r":"r","\t":"t","\u2028":"u2028","\u2029":"u2029"},aa=ac[typeof window]&&window||this,aU=ac[typeof exports]&&exports&&!exports.nodeType&&exports,aZ=ac[typeof module]&&module&&!module.nodeType&&module,aO=aZ&&aZ.exports===aU&&aU,aB=ac[typeof global]&&global;!aB||aB.global!==aB&&aB.window!==aB||(aa=aB);var aC=aY();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(aa._=aC,define(function(){return aC})):aU&&aZ?aO?(aZ.exports=aC)._=aC:aU._=aC:aa._=aC}).call(this);Cms.Function={};Cms.Function.bind=function(b,c,a){a=Cms.isArray(a)?a:Array.prototype.slice.call(arguments,2);return function(){return b.apply(c,a.concat(Array.prototype.slice.call(arguments)))}};Cms.Function.bindEvent=Cms.Function.bindAsEventListener=function(b,c,a){a=Cms.isArray(a)?a:Array.prototype.slice.call(arguments,2);return function(d){return b.apply(c,[d||window.event].concat(a))}};Cms.Function.delay=function(d,b,e,a){a=Cms.isArray(a)?a:Array.prototype.slice.call(arguments,3);var c=Cms.Function.bind(d,e,a);if(b>0){return setTimeout(c,b)}c();return 0};Cms.Function.methodize=function(b,a){if(a){return function(){return b.apply(null,[this[a]].concat(Array.prototype.slice.call(arguments)))}}return function(){return b.apply(null,[this].concat(Array.prototype.slice.call(arguments)))}};Cms.Function.rwrap=function(b,c,a){a|=0;return function(){var d=b.apply(this,arguments);if(a>=0){d=arguments[a]}return c?new c(d):d}};Cms.Function.createTargeted=function(c,a,b){return function(){if(a.target===arguments[0]){c.apply(b,Array.prototype.slice.call(arguments))}}};Cms.Function.createBuffered=function(c,a,d,b){d.task=new Cms.Util.DelayedTask();return function(){d.task.delay(Cms.isObject(a)?a.buffer:a,c,b,Array.prototype.slice.call(arguments))}};Cms.Function.createSingle=function(e,d,a,c,b){return function(f){jQuery.removeEvent(d,a,c,b);return e.apply(b||d,arguments)}};Cms.Function.createDelayed=function(c,a,d,b){return function(){var e=new Cms.Util.DelayedTask(),f=Array.prototype.slice.call(arguments);if(!d.tasks){d.tasks=[]}d.tasks.push(e);e.delay(Cms.isObject(a)?a.buffer:a||10,function(){d.tasks.remove(e);c.apply(b,f)},b)}};Cms.Function.createThrottled=function(e,b,d){var f,a,c,h,g=function(){e.apply(d||this,c);f=new Date().getTime()};return function(){a=new Date().getTime()-f;c=arguments;clearTimeout(h);if(!f||(a>=b)){g()}else{h=setTimeout(g,b-a)}}};Cms.Function.createInterceptor=function(c,b,a){var d=c;if(!z.isFunction(b)){return c}else{return function(){var f=this,e=arguments;b.target=f;b.method=c;return(b.apply(a||f||window,e)!==false)?c.apply(f||window,e):null}}};Cms.Function.createSequence=function(c,b,a){if(!z.isFunction(b)){return c}else{return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}};Cms.Function.before=function(b,a){return function(){if(a.apply(this,arguments)===false){return false}return b.apply(this,arguments)}};Cms.Function.after=function(b,a){return function(){var c=b.apply(this,arguments);if(c===false){return false}a.apply(this,arguments);return c}};(function(){var c=window.Cms,b={};var d=function(f){for(var e in f){if(f.hasOwnProperty(e)){this[e]=f[e]}}};var a=Object.prototype.constructor;b.extend=function(e,l,h){if(typeof l==="object"){h=l;l=e;e=h.constructor!=a?h.constructor:function(){l.apply(this,arguments)}}var g=function(){},f,j=l.prototype;g.prototype=j;f=e.prototype=new g();f.constructor=e;e.superclass=j;if(j.constructor==a){j.constructor=l}e.override=function(m){b.override(e,m)};f.override=d;b.override(e,h);e.extend=function(m){return b.extend(e,m)};return e};b.override=function(e,g){if(g){var f=e.prototype;c.mix(f,g);if(c.isIE&&g.hasOwnProperty("toString")){f.toString=g.toString}}};b.overrideIf=function(e,g){if(g){var f=e.prototype;c.mixIf(f,g)}};c.Class=b})();(function(){var c=window.Cms,a=Cms.Function,b={};b.methodize=function(g,d){var e={},f;for(f in g){if(g.hasOwnProperty(f)&&typeof g[f]==="function"&&!/^_/.test(f)){e[f]=a.methodize(g[f],d)}}return e};b.methodize=function(g,d){var e={},f;for(f in g){if(g.hasOwnProperty(f)&&typeof g[f]==="function"&&!/^_/.test(f)){e[f]=a.methodize(g[f],d)}}return e};b.extend=function(d,e){c.Class.override(d,b.methodize(e))};b.extendIf=function(d,e){c.Class.overrideIf(d,b.methodize(e))};b.rwrap=function(j,l,h){var f={};if(undefined===h||null===h){h=[]}var g=0,d=h.length;for(;g<d;g++){var e=h[g];if(typeof e==="string"&&typeof j[e]==="function"){f[e]=a.rwrap(j[e],l,-1)}}return c.mixIf(f,j)};c.Helper=b})();(function(){var a={};a.trim=function(b){return b.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};a.format=function(f){var b=f.split("?");var e=[];for(var d=0;d<b.length;d++){var c=b[d];if(c.charAt(c.length-1)=="\\"){e.push(c.substring(0,c.length-1));e.push("?")}else{e.push(c);if(d+1<b.length){e.push(arguments[d+1])}}}return e.join("")};a.tmpl=function(e,d,c,b){return e.replace(/\{([\w_$]+)\}/g,function(h,f){var g=d[f];if(g===undefined||g===null){if(c===undefined||c===null){return""}switch(c){case 0:return"";case 1:return f;default:return h}}if("[object Function]"==Object.prototype.toString.call(g)){g=g(f)}return b?encodeURIComponent(g):g})};a.camelize=function(b){return b.replace(/\-(\w)/ig,function(d,c){return c.toUpperCase()})};a.decamelize=function(b){return b.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()})};a.startsWith=function(c,b){return c.indexOf(b)===0};a.endsWith=function(d,b){var c=d.lastIndexOf(b);return c>=0&&c===d.length-b.length};a.startWith=function(c,b){console.error&&console.error("startWith方法不再支持，请使用startsWith方法代替startWith方法.");console.trace&&console.trace();return a.startsWith(c,b)};a.endWith=function(c,b){console.error&&console.error("endWith方法不再支持，请使用endsWith方法代替endWith方法.");console.trace&&console.trace();return a.endsWith(c,b)};a.leftPad=function(f,g,e){if(!isNaN(e)){var b="",d;for(d=f.length;d<e;d++){b=b.concat(g)}b=b.concat(f);return b}return null};a.rightPad=function(f,g,e){if(!isNaN(e)){var b=f,d;for(d=f.length;d<e;d++){b=b.concat(g)}return b}return null};a.encodeURL=function(b){return encodeURI(b).replace(/\=/g,"%3D").replace(/\+/g,"%2B").replace(/\?/g,"%3F").replace(/\&/g,"%26")};a.decodeURI=function(b){return decodeURI(b.replace(/%3D/g,"=").replace(/%2B/g,"+").replace(/%3F/g,"?").replace(/%26/g,"&"))};a.htmlEncode=function(b){return b.replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&#32;")};a.htmlDecode=function(b){return b.replace(/\&quot;/g,'"').replace(/\&lt;/g,"<").replace(/\&gt;/g,">").replace(/\&#32;/g," ").replace(/\&nbsp;/g," ").replace(/\&amp;/g,"&")};a.javaEncode=function(b){if(!b){return b}return b.replace("\\","\\\\").replace("\r\n","\n").replace("\n","\\n").replace('"','\\"').replace("'","\\'")};a.javaDecode=function(b){if(!b){return b}return b.replace("\\\\","\\").replace("\\n","\n").replace("\\r","\r").replace('\\"','"').replace("\\'","'")};a.escapeReg=function(b){return b.replace(new RegExp("([.*+?^=!:\x24{}()|[\\]/\\\\])","g"),"\\$1")};a.isNumber=function(b){if(a.trim(b)==""){return false}return(/^\-?\d+(\.\d+)?$/).test(""+b)};a.isInt=function(b){if(a.trim(b)==""){return false}return(/^\-?\d+$/).test(""+b)};a.toInt=function(b){return parseInt(b,10)};a.isTime=function(g){if(a.trim(g)==""){return false}var c=g.split(":");if(c.length!==3){return false}if(!a.isInt(c[0])||!a.isInt(c[1])||!a.isNumber(c[2])){return false}var f=Number(c[0]),b=Number(c[1]),e=Number(c[2]);if(f<0||f>24||b<0||b>60||e<0||e>60){return false}var d=new Date();d.setHours(c[0]);d.setMinutes(c[1]);d.setSeconds(c[2]);return d.toString().indexOf("Invalid")<0};a.isDate=function(g){if(a.trim(g)==""){return false}var b=g.split("-");if(b.length!==3){return false}if(!a.isInt(b[0])||!a.isInt(b[1])||!a.isInt(b[2])){return false}var j=Number(b[0]),h=Number(b[1]),f=Number(b[2]);var e=b[0].substr(b[0].length-2,2)=="00"?j%400:j%4;e=!e;if(h<1||h>12||f<1||f>31){return false}else{if(f>30&&(h==4||h==6||h==9||h==11)){return false}else{if(f>29&&h==2&&e){return false}else{if(f>28&&h==2&&!e){return false}}}}var c=new Date();c.setFullYear(b[0]);c.setMonth(b[1]);c.setDate(b[2]);return c.toString().indexOf("Invalid")<0};a.isDateTime=function(c){if(a.trim(c)==""){return false}if(c.indexOf(" ")<0){return isDate(c)}var b=c.split(" ");if(b.length<2){return false}return a.isDate(b[0])&&a.isTime(b[1])};a.getlength=function(d){var b=0;for(var c=0;c<d.length;c++){if(d.charCodeAt(c)>256){b+=2}else{b++}}return Math.ceil(b/2)};a.rgbToHex=function(g,h){var b=g.match(new RegExp("([\\d]{1,3})","g"));if(b[3]==0){return"transparent"}var d=[];for(var c=0;c<3;c++){var f=(b[c]-0).toString(16);d.push(f.length==1?"0"+f:f)}var e="#"+d.join("");if(h){return d}else{return e}};a.hexToRgb=function(f,g){var e=f.match(new RegExp("^[#]{0,1}([\\w]{1,2})([\\w]{1,2})([\\w]{1,2})$"));var c=[];for(var d=1;d<e.length;d++){if(e[d].length==1){e[d]+=e[d]}c.push(parseInt(e[d],16))}var b="rgb("+c.join(",")+")";if(g){return c}else{return b}};Cms.Helper.extend(String,a);Cms.String=a})();Cms.String.$tmpl=function(d,c){d=d.replace(/\$\{([\w_]+)\}/g,function(h,e){var g=e.toLowerCase();var f=c[g];if(f===undefined||f===null){return h}if(g!==e){c[e]=c[g]}return f});var a="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+d.replace(/[\r\t\n]/g," ").split("${").join("\t").replace(/((^|\})[^\t]*)'/g,"$1\r").split("\t").join("');p.push(").split("}").join(");p.push('").split("\r").join("\\'")+"');}return p.join('');";var b=new Function("obj",a);return b(c)};(function(){var a={};a.forEach=a.each=function(c,g,f){var e=0,b=c.length;for(;e<b;e++){try{g.call(f||c[e],c[e],e,c)}catch(d){window.console&&console.error("Array.prototype.each:"+d.message)}}return c};a.clone=function(c){var b=c.length;var e=[],d=0;for(;d<b;d++){if(typeof(c[d])==="undefined"||c[d]===null){e[d]=c[d];continue}if(c[d].constructor===Array){e[d]=c[d].clone()}else{e[d]=c[d]}}return e};a.insert=function(b,d,f){if(isNaN(d)||d<0||d>b.length){b.push(f)}else{var c=b.slice(d),e;b[d]=f;for(e=0;e<c.length;e++){b[d+1+e]=c[e]}}return b};a.remove=function(c,f,d){var b,e;for(e=0;e<c.length;e++){if(f===c[e]){b=c.splice(e,1)[0]}}if(d){return b}else{b=null;return c}};a.indexOf=function(c,e){var b=c.length,d=0;for(;d<b;d++){if(c[d]===e){return d}}return -1};a.contains=function(b,c){return a.indexOf(b,c)!==-1};a.some=function(c,f,e){for(var d=0,b=c.length;d<b;d++){if(f.call(e||c[d],c[d],d,c)){return true}}return false};a.every=function(c,f,e){for(var d=0,b=c.length;d<b;d++){if(!f.call(e||c[d],c[d],d,c)){return false}}return true};Cms.Helper.extendIf(Array,a);Cms.Array=a})();(function(){var a=function(b){if(b.time){return new window.Date(b.time)}else{throw new Error('Cms.Date接受的参数格式为 {"time":1419562900000,"@type":"Date"}')}};a.format=function(f,c){var b;c=c||"yyyy-MM-dd";var g=f.getFullYear();var e={M:f.getMonth()+1,d:f.getDate(),h:f.getHours(),m:f.getMinutes(),s:f.getSeconds()};c=c.replace(/(y+)/ig,function(j,h){var d=Math.min(4,h.length);return(g+"").substr(4-d)});for(b in e){c=c.replace(new RegExp("("+b+"+)","g"),function(h,d){return(e[b]<10&&d.length>1)?"0"+e[b]:e[b]})}return c};Cms.Helper.extend(window.Date,a);Cms.Date=a})();(function(){var b=window.Cms;var a={};a.getCurrentDate=function(){return a.toString(new Date())};a.getCurrentTime=function(){var e=new Date();var g=e.getHours();var d=e.getMinutes();var f=e.getSeconds();var c=[];c.push(g>9?g:"0"+g);c.push(d>9?d:"0"+d);c.push(f>9?f:"0"+f);return c.join(":")};a.toString=function(f){var h=f.getFullYear();var e=f.getMonth()+1;var g=f.getDate();var c=[];c.push(h);c.push(e>9?e:"0"+e);c.push(g>9?g:"0"+g);return c.join("-")};a.parseDate=function(l){if(!l){b.Console.error("dateTime.js # DateTime.parseDate : 没有传入参数！");return null}var o=/^(\d{4})-(\d{1,2})-(\d{1,2})((?:\s|\xa0)(\d{1,2}):(\d{1,2})(:(\d{1,2})(\.\d{1,2})?)?)?$/;if(!o.test(l)){b.Console.error("dateTime.js # DateTime.parseDate : 参数错误 "+l);return false}o.exec(l);var n=RegExp.$1;var g=RegExp.$2;var j=RegExp.$3;var f=RegExp.$5;var e=RegExp.$6;var p=RegExp.$8;var c=new Date(n,g-1,j);if(!f){f=0;e=0}c.setHours(f);c.setMinutes(e);if(!p){p=0}c.setSeconds(p);return c};b.DateTime=a})();(function(){var g=window.Cms,f={};f.evalJs=function(h,j){return new Function("opts",h)(j)};f.evalExp=function(h,j){return new Function("opts","return "+h+";")(j)};f.globalEval=function(h){if(window.execScript){window.execScript(h)}else{window["eval"].call(window,h)}};f.runFuncBind$elem=function(o,h){var m=/([\w\.]+)(\((.*)\);?)?$/.exec(h);if(m[1]){var n=namespace(m[1]);var j=[];if(m[3]){var l=f.getReferId(o);m[3].replace(/\bthis\b/g,l);j=window["eval"]("["+m[3]+"]")}if(typeof n=="function"){n.apply(o,j)}else{window.console&&console.error("请确认用于插入内容模块的方法 "+h+" 存在并且没有语法错误。")}}};f.rectContains=function(j,h){return j.left<=h.left&&j.right>=h.right&&j.top<=h.top&&j.bottom>=h.bottom};f.rectIntersect=function(n,m){var o=Math.max(n.top,m.top),p=Math.min(n.right,m.right),h=Math.min(n.bottom,m.bottom),j=Math.max(n.left,m.left);if(h>=o&&p>=j){return{top:o,right:p,bottom:h,left:j}}else{return null}};f.generateId=function(){return(+new Date()).toString(36)+Math.random().toString(32).substr(2)};var c=0;f.getReferId=function(h){if(typeof h=="object"||typeof h=="function"){var j="_z_"+(++c);window[j]=h;return j}};f.random=function(j,h){return Math.floor(Math.random()*(h-j+1)+j)};f.DelayedTask=function(m,l,h){var n=this,o,j=function(){clearInterval(o);o=null;m.apply(l,h||[])};n.delay=function(q,t,r,p){n.cancel();m=t||m;l=r||l;h=p||h;o=setInterval(j,q)};n.cancel=function(){if(o){clearInterval(o);o=null}}};f.ClickRepeater=function(j,h){var l=this;l.el=g.getDom(j);l.$el=$(l.el);l.$el.disableSelection();l.onClick=g.noopFn;l.onMouseDown=g.noopFn;l.onMouseUp=g.noopFn;g.mix(l,h);if(!l.disabled){l.disabled=true;l.enable()}};f.ClickRepeater.prototype={interval:20,delay:250,timer:0,enable:function(){if(this.disabled){this.$el.on("mousedown.clickrepeater",$.proxy(this.handleMouseDown,this));if(g.isIE&&!(g.isStrict&&g.isIE9)){this.$el.on("dblclick.clickrepeater",$.proxy(this.handleDblClick,this))}if(this.preventDefault||this.stopDefault){this.$el.on("click.clickrepeater",$.proxy(this.eventOptions,this))}}this.disabled=false},disable:function(h){if(h||!this.disabled){clearTimeout(this.timer);$document.off("mouseup.clickrepeater",$.proxy(this.handleMouseUp,this));this.$el.off()}this.disabled=true},setDisabled:function(h){this[h?"disable":"enable"]()},eventOptions:function(h){if(this.preventDefault){h.preventDefault()}if(this.stopPropagation){h.stopPropagation()}},handleDblClick:function(h){clearTimeout(this.timer);this.onMouseDown(h);this.onClick(h)},handleMouseDown:function(h){clearTimeout(this.timer);this.mousedownTime=new Date();$document.on("mouseup.clickrepeater",$.proxy(this.handleMouseUp,this));this.$el.on("mouseout.clickrepeater",$.proxy(this.handleMouseOut,this));this.onMouseDown(h);this.onClick(h);if(this.accelerate){this.delay=400}this.timer=g.Function.delay(this.click,this.delay||this.interval,this,[h])},click:function(h){this.onClick();this.timer=g.Function.delay(this.click,this.accelerate?this.easeOutExpo(this.getElapsed(this.mousedownTime),400,-390,12000):this.interval,this,[h])},getElapsed:function(j,h){return Math.abs(j-(h||new Date()))},easeOutExpo:function(j,h,m,l){return(j==l)?h+m:m*(-Math.pow(2,-10*j/l)+1)+h},handleMouseOut:function(){clearTimeout(this.timer);this.$el.on("mouseover.clickrepeater",$.proxy(this.handleMouseReturn,this))},handleMouseReturn:function(){this.$el.off("mouseover.clickrepeater",this.handleMouseReturn);this.click()},handleMouseUp:function(h){clearTimeout(this.timer);this.$el.off("mouseover.clickrepeater",this.handleMouseReturn);this.$el.off("mouseout.clickrepeater",this.handleMouseOut);$document.off("mouseup.clickrepeater",this.handleMouseUp);this.onMouseUp(h)},destroy:function(){this.disable(true);this.$el.off(".clickrepeater");$document.off(".clickrepeater");this.el=this.$el=null;this.onClick=null;this.onMouseUp=null;this.onMouseDown=null}};f.limitSizeImg=function(m,j,n,o){var l={};if(m.naturalWidth){l.w="naturalWidth";l.h="naturalHeight";b(m,l,j,n,o)}else{l.w="offsetWidth";l.h="offsetHeight";setTimeout(function(){if(m.offsetHeight<n){setTimeout(arguments.callee,100);return}b(m,l,j,n,o)},100)}};function b(m,l,j,n,p){var q=m[l.h]/m[l.w];if(m[l.w]/m[l.h]>j/n){m.width=j;m.height=j*q;if(Math.abs(j*q-n)<10){m.height=n}}else{m.height=n;m.width=n/q;if(Math.abs(n/q-j)<10){m.width=j}}if(p){return}if(m.naturalWidth){if(m.naturalWidth<j&&m.naturalHeight<n){m.width=m.naturalWidth;m.height=m.naturalHeight}}else{var o=new Image();o.src=m.src;if(o.width<j&&o.height<n){m.width=o.width;m.height=o.height}o=null}}f.setImgMaxSize=function(n,m,l){if(!n){return}var h=new Image();h.src=n.src;var j=Math.max(h.width/m,h.height/l);n.style.width=h.width/Math.max(1,j)+"px";n.style.height=h.height/Math.max(1,j)+"px";h=null};f.setImgMinSize=function(n,l,m){if(!n){return}var h=new Image();h.src=n.src;var j=Math.min(l/h.width,m/h.height);n.style.width=h.width*Math.max(1,j)+"px";n.style.height=h.height/Math.max(1,j)+"px";h=null};var a={area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1};var e={colgroup:1,dd:1,dt:1,li:1,options:1,p:1,td:1,tfoot:1,th:1,thead:1,tr:1};var e={colgroup:1,dt:1,li:1,options:1,p:1,tfoot:1,thead:1};f.htmlLint=function d(j){var m,l;function m(){this.pos=0;this.lineNumber=1;this.token="";this.current_mode="CONTENT";this.tags={parent:"parent1",parent_count:1,parent1:""};this.tag_type="";this.token_text=this.last_token=this.last_text=this.token_type="";this.Utils={whitespace:"\n\r\t ".split(""),single_token:",br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,"};this.get_content=function(){var n="";var o=[];while(this.input.charAt(this.pos)!=="<"){if(this.pos>=this.input.length){return o.length?o.join(""):["","TK_EOF"]}n=this.input.charAt(this.pos);if(n=="\n"){this.lineNumber++}this.pos++;o.push(n)}return o.length?o.join(""):""};this.get_script=function(){var n="";var p=[];var q=new RegExp("<\/script>","igm");q.lastIndex=this.pos;var o=q.exec(this.input);var r=o?o.index:this.input.length;while(this.pos<r){if(this.pos>=this.input.length){return p.length?p.join(""):["","TK_EOF"]}n=this.input.charAt(this.pos);if(n=="\n"){this.lineNumber++}this.pos++;p.push(n)}return p.length?p.join(""):""};this.record_tag=function(n){if(this.tags[n+"_count"]){this.tags[n+"_count"]++;this.tags[n+this.tags[n+"_count"]]=this.indent_level}else{this.tags[n+"_count"]=1;this.tags[n+this.tags[n+"_count"]]=this.indent_level}this.tags[n+this.tags[n+"_count"]+"_parent"]=this.tags.parent;this.tags.parent=n+this.tags[n+"_count"]};this.retrieve_tag=function(n){if(this.tags[n+"_count"]){var o=this.tags.parent;while(o){if(n+this.tags[n+"_count"]===o){break}this.message.push("行"+this.lineNumber+" 缺失的结束标签 /"+o);o=this.tags[o+"_parent"]}if(o){this.indent_level=this.tags[n+this.tags[n+"_count"]];this.tags.parent=this.tags[o+"_parent"]}delete this.tags[n+this.tags[n+"_count"]+"_parent"];delete this.tags[n+this.tags[n+"_count"]];if(this.tags[n+"_count"]==1){delete this.tags[n+"_count"]}else{this.tags[n+"_count"]--}}else{if(this.Utils.single_token.indexOf(","+n+",")==-1){this.message.push("行"+this.lineNumber+" 多余的结束标签 "+n)}}};this.get_tag=function(){var n="";var p=[];do{if(this.pos>=this.input.length){return p.length?p.join(""):["","TK_EOF"]}n=this.input.charAt(this.pos);if(n=="\n"){this.lineNumber++}this.pos++;if(n==="'"||n==='"'){if(!p[1]||p[1]!=="!"){n+=this.get_unformatted(n)}}p.push(n)}while(n!==">");var r=p.join("");var q=0;while(n=r.charAt(q)){if(n==" "||n=="\n"||n=="\r"||n=="\t"||n==">"){break}q++}var o=r.substring(1,q).toLowerCase();if(r.charAt(r.length-2)==="/"||this.Utils.single_token.indexOf(","+o+",")!=-1){this.tag_type="SINGLE"}else{if(o==="script"){this.record_tag(o);this.tag_type="SCRIPT"}else{if(o==="style"){this.record_tag(o);this.tag_type="STYLE"}else{if(o.charAt(0)==="!"){if(o.indexOf("[if")!=-1){if(r.indexOf("!IE")!=-1){var t=this.get_unformatted("-->",r);p.push(t)}this.tag_type="START"}else{if(o.indexOf("[endif")!=-1){this.tag_type="END";this.unindent()}else{if(o.indexOf("[cdata[")!=-1){var t=this.get_unformatted("]]>",r);p.push(t);this.tag_type="SINGLE"}else{var t=this.get_unformatted("-->",r);p.push(t);this.tag_type="SINGLE"}}}}else{if(o.charAt(0)==="/"){this.retrieve_tag(o.substring(1));this.tag_type="END"}else{this.record_tag(o);this.tag_type="START"}}}}}return p.join("")};this.get_unformatted=function(o,p){if(p&&p.indexOf(o)!=-1){return""}var n="";var q="";do{n=this.input.charAt(this.pos);if(n=="\n"){this.lineNumber++}this.pos++;q+=n}while(q.indexOf(o)==-1&&this.pos<this.input.length);return q};this.get_token=function(){var o;if(this.last_token==="TK_TAG_SCRIPT"){var n=this.get_script();if(typeof n!=="string"){return n}o=n;return[o,"TK_CONTENT"]}if(this.current_mode==="CONTENT"){o=this.get_content();if(typeof o!=="string"){return o}else{return[o,"TK_CONTENT"]}}if(this.current_mode==="TAG"){o=this.get_tag();if(typeof o!=="string"){return o}else{var p="TK_TAG_"+this.tag_type;return[o,p]}}};this.indent=function(){this.indent_level++};this.unindent=function(){if(this.indent_level>0){this.indent_level--}};return this}l=new m();l.input=j;l.indent_level=0;l.output=[];l.message=[];while(true){var h=l.get_token();l.token_text=h[0];l.token_type=h[1];if(l.token_type==="TK_EOF"){break}switch(l.token_type){case"TK_TAG_START":case"TK_TAG_SCRIPT":case"TK_TAG_STYLE":l.indent();l.current_mode="CONTENT";break;case"TK_TAG_END":l.current_mode="CONTENT";break;case"TK_TAG_SINGLE":l.current_mode="CONTENT";break;case"TK_CONTENT":l.current_mode="TAG";break}l.last_token=l.token_type;l.last_text=l.token_text}if(l.tags.parent!="parent1"){l.message.push("行"+this.lineNumber+" 缺失的结束标签 /"+l.tags.parent)}if(l.message.length){return l.message}};f.jsParser=function(y){var B=0;var w=y.length;var n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$";var h="\n\r\t ";var j="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(" ");var r="continue,try,catch,throw,return,var,if,switch,case,default,for,while,break,function".split(",");var o=function(E,t){for(var D=0;D<t.length;D+=1){if(t[D]===E){return true}}return false};var u=function(){if(B>=w){return["","TK_EOF"]}var J=y.charAt(B);var D=B;B+=1;if(h.indexOf(J)!==-1){if(B<w){while(h.indexOf(y.charAt(B))!==-1){J+=y.charAt(B);B+=1;if(B===w){break}}}return[J,"TK_WHITESPACE"]}if(n.indexOf(J)!==-1){if(B<w){while(n.indexOf(y.charAt(B))!==-1){J+=y.charAt(B);B+=1;if(B===w){break}}}if(o(J,r)){return[J,"TK_KEYWORD"]}else{return[J,"TK_WORD"]}}if(J==="("||J==="["){return[J,"TK_START_EXPR"]}if(J===")"||J==="]"){return[J,"TK_END_EXPR"]}if(J==="{"){return[J,"TK_START_BLOCK"]}if(J==="}"){return[J,"TK_END_BLOCK"]}if(J===";"){return[J,"TK_SEMICOLON"]}if(J==="/"){var I="";var H=true;if(y.charAt(B)==="*"){B+=1;if(B<w){while(!(y.charAt(B)==="*"&&y.charAt(B+1)&&y.charAt(B+1)==="/")&&B<w){J=y.charAt(B);I+=J;if(J==="\x0d"||J==="\x0a"){H=false}B+=1;if(B>=w){break}}}B+=2;if(H){return["/*"+I+"*/","TK_INLINE_COMMENT"]}else{return["/*"+I+"*/","TK_BLOCK_COMMENT"]}}if(y.charAt(B)==="/"){I=J;while(y.charAt(B)!=="\r"&&y.charAt(B)!=="\n"){I+=y.charAt(B);B+=1;if(B>=w){break}}B+=1;return[I,"TK_COMMENT"]}}if(J==="'"||J==='"'||(J==="/"&&((q==="TK_WORD"&&o(A,["return","do"]))||(q==="TK_COMMENT"||q==="TK_START_EXPR"||q==="TK_START_BLOCK"||q==="TK_END_BLOCK"||q==="TK_OPERATOR"||q==="TK_EQUALS"||q==="TK_EOF"||q==="TK_SEMICOLON")))){var G=J;var E=false;var t=J;if(B<w){if(G==="/"){var F=false;while(E||F||y.charAt(B)!==G){t+=y.charAt(B);if(!E){E=y.charAt(B)==="\\";if(y.charAt(B)==="["){F=true}else{if(y.charAt(B)==="]"){F=false}}}else{E=false}B+=1;if(B>=w){return[t,"TK_STRING"]}}}else{while(E||y.charAt(B)!==G){t+=y.charAt(B);if(!E){E=y.charAt(B)==="\\"}else{E=false}B+=1;if(B>=w){return[t,"TK_STRING"]}}}}B+=1;t+=G;if(G==="/"){while(B<w&&n.indexOf(y.charAt(B))!==-1){t+=y.charAt(B);B+=1}}return[t,"TK_STRING"]}if(o(J,j)){while(B<w&&o(J+y.charAt(B),j)){J+=y.charAt(B);B+=1;if(B>=w){break}}if(J==="="){return[J,"TK_EQUALS"]}else{return[J,"TK_OPERATOR"]}}return[J,"TK_UNKNOWN"]};var x,p;var q="TK_START_EXPR";var A="";var m="";var l=[];while(true){if(l.length>13449){break}var C=u(B);x=C[0];p=C[1];if(p==="TK_EOF"){break}if(p!=="TK_WHITESPACE"){l.push(C);m=A;q=p;A=x}}return l};f.getGlobalDefine=function(j){var p={};j=j.replace(/\bwindow\.([\w\$\_])\s*=\s*\w+/g,function(l,u){p[u]=true;return l});var h=f.jsParser(j);var q=0,o=0;for(var n=0,m=h.length;n<m;n++){if(h[n][1]=="TK_KEYWORD"){if(h[n][0]=="function"){if(h[n+1]&&h[n+1][1]=="TK_WORD"&&h[n+2]&&h[n+2][1]=="TK_START_EXPR"){p[h[n+1][0]]=true}if(h[n-1]&&h[n-1][1]=="TK_EQUALS"&&h[n-2]&&h[n-2][1]=="TK_WORD"&&(!h[n-3]||h[n-3][0]!==".")){p[h[n-2][0]]=true}q++;var r=-1;for(;n<m;n++){if(h[n][1]=="TK_START_BLOCK"){if(r==-1){r=o}o++}else{if(h[n][1]=="TK_END_BLOCK"){o--}}if(r==o){break}}}else{if(h[n][0]=="var"){if(h[n+1]&&h[n+1][1]=="TK_WORD"){p[h[n+1][0]]=true}var r=-1;for(;n<m;n++){if(r==-1){if(h[n][1]=="TK_SEMICOLON"){break}else{if(h[n][1]=="TK_WORD"&&h[n-1][0]==","){p[h[n][0]]=true}}}if(h[n][1]=="TK_START_BLOCK"){if(r==-1){r=o}o++}else{if(h[n][1]=="TK_END_BLOCK"){o--}}if(r==o){r==-1}}}}}}for(var t in p){return p}};g.Util=f})();
/*! DataCollection DataTable*/
(function(){var z=window.Cms,DataTable,DataRow,DataCollection,_CMS_NULL,javaEncode=z.String.javaEncode;z.Constant.Null=_CMS_NULL="_CMS_NULL";DataTable=function(options){this.Columns=null;this.Values=null;this.Rows=null;this.ColMap={};if(options&&options.Columns&&options.Values){this.init(options.Columns,options.Values)}};DataTable.prototype.getRowCount=function(){return this.Rows.length};DataTable.prototype.getColCount=function(){return this.Columns.length};DataTable.prototype.getColName=function(i){return this.Columns[i]};DataTable.prototype.getAt=function(i,j){return this.Rows[i].getAt(j)};DataTable.prototype.get=function(i,str){return this.Rows[i].get(str)};DataTable.prototype.getDataRow=function(i){return this.Rows[i]};DataTable.prototype.indexOf=function(dataRow){for(var i=0,len=this.Rows.length;i<len;i++){if(this.Rows[i]===dataRow){return i}}return -1};DataTable.prototype.deleteRow=function(i){this.Values.splice(i,1);this.Rows.splice(i,1);for(var k=i;k<this.Rows.length;k++){this.Rows[k].Index=k}};DataTable.prototype.insertRow=function(i,values){this.Values.splice(i,0,values);this.Rows.splice(i,0,new DataRow(this,i));for(var k=i;k<this.Rows.length;k++){this.Rows[k].Index=k}};DataTable.prototype.insertRows=function(index,valuesArray){Array.prototype.splice.apply(this.Values,[index,0].concat(valuesArray));var rowsArray=new Array(valuesArray.length);for(var i=0,len=valuesArray.length;i<len;i++){rowsArray[i]=new DataRow(this,i+index)}Array.prototype.splice.apply(this.Rows,[index,0].concat(rowsArray));for(var k=index;k<this.Rows.length;k++){this.Rows[k].Index=k}};DataTable.prototype.insertColumn=function(name){if(this.hasColumn(name)){return}var col={};col.Name=name.toLowerCase();col.Type=1;this.Columns.push(col);this.ColMap[col.Name]=this.Columns.length-1;for(var i=0;i<this.Values.length;i++){this.Values[i].push(null)}};DataTable.prototype.hasColumn=function(name){name=name.toLowerCase();for(var j=0;j<this.Columns.length;j++){if(this.Columns[j].Name===name){return true}}return false};DataTable.prototype.init=function(cols,values){this.Values=values||[];this.Columns=[];this.Rows=[];var i;for(i=0;i<cols.length;i++){var col={};if(cols[i].length&&cols[i][0]){col.Name=cols[i][0];col.Type=cols[i][1]}else{col=cols[i]}col.Name=col.Name.toLowerCase();this.Columns[i]=col;this.ColMap[col.Name]=i}for(i=0;i<values.length;i++){var row=new DataRow(this,i);this.Rows[i]=row}};DataTable.prototype.toXML=function(){var arr=[],i;arr.push("<columns><![CDATA[[");for(i=0;i<this.Columns.length;i++){if(i!==0){arr.push(",")}arr.push("[");arr.push('"'+this.Columns[i].Name+'",');arr.push(this.Columns[i].Type);arr.push("]")}arr.push("]]]></columns>");arr.push("<values><![CDATA[[");for(i=0;i<this.Values.length;i++){if(i!==0){arr.push(",")}arr.push("[");for(var j=0;j<this.Columns.length;j++){if(j!==0){arr.push(",")}if(this.Values[i][j]===null||typeof(this.Values[i][j])=="undefined"){arr.push('"_CMS_NULL"')}else{var v=this.Values[i][j];if(typeof(v)=="string"){v=javaEncode(v)}arr.push('"'+v+'"')}}arr.push("]")}arr.push("]]]></values>");return arr.join("")};DataTable.prototype.toJSON=function(){var obj=z.mix({},{"@type":"DataTable",Columns:this.Columns,Values:this.Values});return obj};DataRow=function(dt,index){this.DT=dt;this.Index=index};DataRow.prototype.getColCount=function(){return this.DT.Columns.length};DataRow.prototype.getIndex=function(){return this.Index};DataRow.prototype.getColName=function(i){return this.DT.Columns[i]};DataRow.prototype.getAt=function(i){return this.DT.Values[this.Index][i]};DataRow.prototype.getValues=function(i){return this.DT.Values[this.Index]};DataRow.prototype.get=function(str){str=str;var c=this.DT.ColMap[str];if(typeof(c)=="undefined"){if(/[A-Z]/.test(str)){return this.get(str.toLowerCase())}else{return}}if(this.DT.Values[this.Index]){return this.DT.Values[this.Index][c]}};DataRow.prototype.set=function(str,value){str=str.toLowerCase();var c=this.DT.ColMap[str];if(typeof(c)=="undefined"){return}if(this.DT.Values[this.Index]){this.DT.Values[this.Index][c]=value}};DataRow.prototype.setAt=function(i,value){this.DT.Values[this.Index][i]=value};DataRow.prototype.each=function(func,scope){var cols=this.DT.Columns;var vals=this.DT.Values[this.Index];for(var i=0,l=cols.length;i<l;i++){if(func.call(scope||vals[i],vals[i],cols[i].Name,l)===false){break}}};DataRow.prototype.toJSON=function(){var obj={};var cols=this.DT.Columns;var vals=this.DT.Values[this.Index];for(var i=0,l=cols.length;i<l;i++){obj[cols[i].Name]=vals[i]}return obj};DataCollection=function(){this.map={};this.valuetype={};this.keys=[]};DataCollection.prototype.get=function(ID){if(typeof(ID)==="number"){return this.getAt(ID)}return this.map[ID]};DataCollection.prototype.getAt=function(ID){ID=Number(ID);if(isNaN(ID)||ID>this.keys.length){return}return this.map[this.keys[ID]]};DataCollection.prototype.last=function(){return this.map[this.keys[this.keys.length-1]]};DataCollection.prototype.getKey=function(index){return this.keys[index]};DataCollection.prototype.getValues=function(index){var ret=[];for(var i=0;i<this.keys.length;i++){ret.push(this.map[this.keys[i]])}return ret};DataCollection.prototype.indexOf=function(item){for(var i=0;i<this.keys.length;i++){if(this.map[this.keys[i]]===item){return i}}return -1};DataCollection.prototype.size=function(){return this.keys.length};DataCollection.prototype.add=DataCollection.prototype.set=function(ID,Value,Type){if(typeof this.map[ID]=="undefined"){this.keys.push(ID)}this.map[ID]=Value;if(Type){this.valuetype[ID]=Type}else{if(Value&&Value.getDataRow){this.valuetype[ID]="DataTable"}else{this.valuetype[ID]="String"}}};DataCollection.prototype.addAll=function(dc){if(!dc){return}if(!dc.valuetype){window.console&&console.error("DataCollection.addAll()要求参数必须是一个DataCollection!");return}var size=dc.size(),i;for(i=0;i<size;i++){var k=dc.keys[i];var v=dc.map[k];var t=dc.valuetype[k];this.add(k,v,t)}};DataCollection.prototype.remove=function(ID){if(ID===undefined||ID===null){return}var obj;if(typeof(ID)==="number"){return this.removeAt(ID)}else{var i;for(i=0;i<this.keys.length;i++){if(this.keys[i]==ID){obj=this.map[ID];delete this.map[ID];delete this.valuetype[ID];this.keys.splice(i,1);return obj}}}return};DataCollection.prototype.removeAt=function(ID){var obj;ID=Number(ID);if(isNaN(ID)||ID>this.keys.length){return}obj=this.map[this.keys[ID]];delete this.map[this.keys[ID]];delete this.valuetype[this.keys[ID]];this.keys.splice(ID,1);return obj};DataCollection.prototype.each=function(func,scope){for(var i=0,len=this.keys.length,item;i<len;i++){item=this.map[this.keys[i]];if(func.call(scope||item,item,i,len)===false){break}}};DataCollection.prototype.clear=function(ID){this.keys.length=0;this.map={};this.valuetype={};return this};DataCollection.prototype.toQueryString=function(){var arr=[],i;for(i=0;i<this.keys.length;i++){if(this.map[this.keys[i]]==null||this.map[this.keys[i]]==""){continue}if(i!==0){arr.push("&")}arr.push(this.keys[i]+"="+this.map[this.keys[i]])}return arr.join("")};var getNodeValue=function(node){var v=node.getAttribute("value");if(v===null&&node.childNodes.length){v="";for(var i=0;i<node.childNodes.length;i++){var childNode=node.childNodes[i];if(childNode.nodeType==4){v+=childNode.nodeValue.trim()}}}if(v==_CMS_NULL){v=null}return v};DataCollection.prototype.parseXML=function(xmlDoc){var coll=xmlDoc.documentElement;if(!coll){return false}if(coll.nodeName=="parsererror"){window.console&&console.error(coll.innerText?coll.innerText:coll.textContent);return}var nodes=coll.childNodes;var len=nodes.length,i;for(i=0;i<len;i++){var node=nodes[i];if(node.nodeType!=1){continue}var Type=node.getAttribute("type");var ID=node.getAttribute("id");this.valuetype[ID]=Type;var v;if(Type==="String"){this.map[ID]=getNodeValue(node)}else{if(Type==="StringArray"){this.map[ID]=eval("["+getNodeValue(node)+"]")}else{if(Type==="Map"){v=getNodeValue(node);if(v){v=v.replace(/(^\{\|,)class:/ig,'$1"class":')}this.map[ID]=eval("("+v+")")}else{if(Type==="DataTable"||Type==="Schema"||Type==="SchemaSet"){this.parseDataTable(node,"DataTable")}else{this.map[ID]=getNodeValue(node)}}}}this.keys.push(ID)}return true};DataCollection.prototype.parseDataTable=function(node,strType){var cols=getNodeValue(node.getElementsByTagName("columns")[0]);cols="var _TMP1 = "+cols;eval(cols);cols=_TMP1;var values=getNodeValue(node.getElementsByTagName("values")[0]);values="var _TMP2 = "+values;eval(values);values=_TMP2;var obj;obj=new DataTable();obj.init(cols,values);this.add(node.getAttribute("id"),obj)};DataCollection.prototype.toXML=function(){var arr=[],i;arr.push('<?xml version="1.0" encoding="UTF-8"?>');arr.push("<collection>");for(i=0;i<this.keys.length;i++){var ID=this.keys[i];try{var thisType=this.valuetype[ID];var v=this.map[ID];if(/^(long|int|float|double)$/i.test(thisType)){arr.push('<element id="'+ID+'" type="'+thisType+'" value="'+v+'"></element>')}else{arr.push('<element id="'+ID+'" type="'+thisType+'">');if(thisType=="DataTable"){arr.push(v.toXML())}else{if(thisType=="String"){if(v===null||typeof(v)=="undefined"){arr.push("<![CDATA["+Constant.Null+"]]>")}else{arr.push("<![CDATA["+v+"]]>")}}else{if(thisType=="Map"){if(v===null||typeof(v)=="undefined"){arr.push("<![CDATA["+Constant.Null+"]]>")}else{arr.push("<![CDATA["+Cms.JSON.stringify(v)+"]]>")}}else{if(thisType=="StringArray"){if(v===null||typeof(v)=="undefined"){arr.push("<![CDATA["+Constant.Null+"]]>")}else{var r=[];for(var j=0;j<v.length;j++){r.push(javaEncode(v[j]))}arr.push("<![CDATA["+r.join('","')+"]]>")}}else{arr.push(v)}}}}arr.push("</element>")}}catch(ex){window.console&&console.error("DataCollection.toXML():"+ID+","+ex.message)}}arr.push("</collection>");return arr.join("")};DataCollection.prototype.toJSON=function(){return this.map};z.DataRow=DataRow;z.DataTable=DataTable;z.DataCollection=DataCollection})();(function(){var c=window.Cms;var b={};b.parse=(function(){var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var e;function f(j,m){var l=m[j];if(l&&typeof l==="object"){for(var h in l){var g=f(h,l);if(g!==undefined){l[h]=g}else{delete l[h]}}}return e.call(m,j,l)}return function(j,g){d.lastIndex=0;if(d.test(j)){j=j.replace(d,function(l){return"\\u"+("0000"+l.charCodeAt(0).toString(16)).slice(-4)})}if(j&&/^[\],:{}\s]*$/.test(j.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){var h=new Function("return "+j)();e=g;return typeof g==="function"?f("",{"":h}):h}throw new SyntaxError("Invalid JSON format in executing JSON.parse")}})();b.stringify=(function(){function h(o){return o<10?"0"+o:o}Date.prototype.toJSON=function(n){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(n){return this.valueOf()};var d;var m;var j;var l=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;var g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function f(n){l.lastIndex=0;return l.test(n)?'"'+n.replace(l,function(o){var p=g[o];return typeof p==="string"?p:"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+n+'"'}function e(w,r){var p,o,x,n,t=m,q,u=r[w];if(u&&typeof u==="object"&&typeof u.toJSON==="function"){u=u.toJSON(w)}if(typeof j==="function"){u=j.call(r,w,u)}switch(typeof u){case"string":return f(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u){return"null"}m+=d;q=[];if(Object.prototype.toString.apply(u)==="[object Array]"){n=u.length;for(p=0;p<n;p+=1){q[p]=e(p,u)||"null"}x=q.length===0?"[]":m?"[\n"+m+q.join(",\n"+m)+"\n"+t+"]":"["+q.join(",")+"]";m=t;return x}if(j&&typeof j==="object"){n=j.length;for(p=0;p<n;p+=1){o=j[p];if(typeof o==="string"){x=e(o,u);if(x){q.push(f(o)+(m?": ":":")+x)}}}}else{for(o in u){if(Object.hasOwnProperty.call(u,o)){x=e(o,u);if(x){q.push(f(o)+(m?": ":":")+x)}}}}x=q.length===0?"{}":m?"{\n"+m+q.join(",\n"+m)+"\n"+t+"}":"{"+q.join(",")+"}";m=t;return x}}return function(p,o,n){if(o!=null&&Object.prototype.toString.apply(o)!=="[object Array]"&&Object.prototype.toString.apply(o)==="[object Function]"){throw new Error("Invalid type of 2nd argument in JSON.stringify, only Array and Function allowed")}m=d="";if(n&&typeof n==="number"){d=new Array(n+1).join(" ")}else{if(n&&typeof n==="string"){d=n}}j=o;return e("",{"":p})}})();var a=Object.prototype.toString;b.toQuery=function(g,l){var d=[],j,f=l||function(m){return encodeURIComponent(m)};for(var e in g){var h=g[e];if(a.apply(h)==="[object Array]"){j=h.length;while(j--){d.push(e+"="+f(h[j],e))}}else{d.push(e+"="+f(h,e))}}return d.join("&")};b.keys=function(f){var d=[];for(var e in f){if(f.hasOwnProperty(e)){d.push(e)}}return d};b.values=function(f){var d=[];for(var e in f){if(f.hasOwnProperty(e)){d.push(f[e])}}return d};Cms.JSON=b})();(function(){var b=window.Cms;var a=function(d,c){this.name=c;this.obj=d;this.listeners=[]};a.prototype.isEvent=true;a.prototype.addListener=function(e,d,c){var f=this,g;d=d||f.obj;if(!f.isListening(e,d)){g=f.createListener(e,d,c);if(f.firing){f.listeners=f.listeners.slice(0)}f.listeners.push(g)}};a.prototype.createListener=function(f,e,c){e=e||this.obj;var g={fn:f,scope:e,options:c,ev:this},d=f;if(c&&c.single){d=Cms.Function.createSingle(d,g,c,e)}if(c&&c.delay){d=Cms.Function.createDelayed(d,g,c,e)}if(c&&c.buffer){d=Cms.Function.createBuffered(d,g,c,e)}g.fireFn=d;return g};a.prototype.findListener=function(e,d){var g=this.listeners,c=g.length,f;d=d||this.obj;while(c--){f=g[c];if(f){if(f.fn==e&&(f.scope==d||f.scope==this.obj)){return c}}}return -1};a.prototype.isListening=function(d,c){return this.findListener(d,c)!==-1};a.prototype.removeListener=function(f,e){var d,h,c,g=this;d=g.findListener(f,e);if(d!=-1){h=g.listeners[d];if(g.firing){g.listeners=g.listeners.slice(0)}if(h.task){h.task.cancel();delete h.task}c=h.tasks&&h.tasks.length;if(c){while(c--){h.tasks[c].cancel()}delete h.tasks}g.listeners.splice(d,1);return true}return false};a.prototype.clearListeners=function(){var d=this,e=d.listeners,c=e.length;while(c--){d.removeListener(e[c].fn,e[c].scope)}};a.prototype.fire=function(){var g=this,f=g.listeners,c=f.length,e=0,d,h;if(c>0){g.firing=true;for(;e<c;e++){h=f[e];d=arguments.length?Array.prototype.slice.call(arguments,0):[];if(h.options){d.push(h.options)}if(!h.fireFn){throw"通过CustEvent.addListener事件"+this.name+"注册的方法有误，无法执行"}if(h&&h.fireFn.apply(h.scope||g.obj||window,d)===false){return(g.firing=false)}}}g.firing=false;return true};b.CustEvent=a})();(function(){var b=window.Cms;var a=/^(?:scope|delay|buffer|single)$/;b.Observable=function(f){var c=f,d=c.events;c.events=d||{};c.fireEvent=function(){var j=Array.prototype.slice.call(arguments),l=j[0].toLowerCase(),h=true,g=c.events[l],e,m;if(c.eventsSuspended===true){e=c.eventQueue;if(e){e.push(j)}}else{if(b.isObject(g)&&g.bubble){if(g.fire.apply(g,j.slice(1))===false){return false}m=c.getBubbleTarget&&c.getBubbleTarget();if(m&&m.enableBubble){if(!m.events[l]||!b.isObject(m.events[l])||!m.events[l].bubble){m.enableBubble(l)}return m.fireEvent.apply(m,j)}}else{if(b.isObject(g)){j.shift();h=g.fire.apply(g,j)}}}return h};c.addListener=function(h,m,l,p){var n,q,j,g;if(b.isObject(h)){p=h;for(n in p){q=p[n];if(!a.test(n)){c.addListener(n,q.fn||q,q.scope||p.scope,q.fn?q:p)}}}else{h=h.toLowerCase();g=c.events[h]||true;if(typeof(g)==="boolean"){c.events[h]=g=new b.CustEvent(c,h)}g.addListener(m,l,b.isObject(p)?p:{})}};c.removeListener=function(g,j,h){var e=c.events[g.toLowerCase()];if(b.isObject(e)){e.removeListener(j,h)}};c.purgeListeners=function(){var h=c.events,e,g;for(g in h){e=h[g];if(b.isObject(e)){e.clearListeners()}}};c.addEvents=function(h){c.events=c.events||{};if(typeof(h)==="string"){var e=arguments,g=e.length;while(g--){c.events[e[g]]=c.events[e[g]]||true}}else{b.mixIf(c.events,h)}if(c.listeners){c.on(c.listeners);delete c.listeners}};c.hasListener=function(g){var h=c.events[g];return b.isObject(h)&&h.listeners.length>0};c.suspendEvents=function(e){c.eventsSuspended=true;if(e&&!c.eventQueue){c.eventQueue=[]}};c.resumeEvents=function(){var e=c.eventQueue||[];c.eventsSuspended=false;delete c.eventQueue;e.each(function(g){c.fireEvent.apply(c,g)})};c.enableBubble=function(l){if(!b.isEmpty(l)){l=b.isArray(l)?l:Array.prototype.slice.call(arguments);for(var j=0,e=l.length;j<e;j++){var h=l[j];h=h.toLowerCase();var g=c.events[h]||true;if(typeof g==="boolean"){g=new b.CustEvent(c,h);c.events[h]=g}g.bubble=true}}};c.on=c.addListener;c.un=c.removeListener}})();(function(){if(Cms.isIE||!window.HTMLElement||!HTMLElement.prototype){return}var e={};e.insertAdjacentElement=function(f,g){switch(f.toLowerCase()){case"beforebegin":this.parentNode.insertBefore(g,this);return this.previousSibling;case"afterbegin":this.insertBefore(g,this.firstChild);return this.firstChild;case"beforeend":this.appendChild(g);return this.lastChild;case"afterend":if(this.nextSibling){this.parentNode.insertBefore(g,this.nextSibling)}else{this.parentNode.appendChild(g)}return this.nextSibling}};if(!HTMLElement.prototype.insertAdjacentHTML){e.insertAdjacentHTML=function(g,j){var h=this.ownerDocument.createRange();h.setStartBefore(this);var f=h.createContextualFragment(j);return this.insertAdjacentElement(g,f)}}e.insertAdjacentText=function(g,f){return this.insertAdjacentElement(g,document.createTextNode(f))};if(!HTMLElement.prototype.contains){e.contains=function(f){return !!(this.compareDocumentPosition(f)&16)}}if(!HTMLElement.prototype.fireEvent){e.fireEvent=function(h){h=h.replace(/^on/i,"");var f;var g=this.ownerDocument||document;if(/mouse|click/i.test(h)){f=g.createEvent("MouseEvents");f.initMouseEvent(h,true,true,g.defaultView,1,0,0,0,0,false,false,false,false,0,null)}else{f=g.createEvent("Event");f.initEvent(h,true,true)}return this.dispatchEvent(f)};window.constructor.prototype.fireEvent=HTMLDocument.prototype.fireEvent=e.fireEvent}Cms.mixIf(HTMLElement.prototype,e);if(!("event" in window)){window.constructor.prototype.__defineGetter__("event",function(){var h=arguments.callee.caller,f=null,g=0;for(;h!=null&&h.arguments;g++,h=h.caller){f=h.arguments[0];if(f&&typeof f=="object"&&/Event/.test(f)){return f}if(g>999){return null}}return null})}var a=HTMLElement.prototype;var d=document.createElement("div");if(!("outerHTML" in d)){a.__defineSetter__("outerHTML",function(g){var f=this.ownerDocument.createRange();f.setStartBefore(this);var h=f.createContextualFragment(g);this.parentNode.replaceChild(h,this);return g});a.__defineGetter__("outerHTML",function(){var f,h,g=this.attributes,j="<"+this.tagName.toLowerCase();for(h=0;h<g.length;h++){f=g[h];if(f.specified){j+=" "+f.name+'="'+f.value+'"'}}if(!this.hasChildNodes){return j+">"}return j+">"+this.innerHTML+"</"+this.tagName.toLowerCase()+">"})}if(!("innerText" in d)){a.__defineSetter__("innerText",function(f){this.textContent=f});a.__defineGetter__("innerText",function(){return this.textContent});a.__defineSetter__("outerText",function(f){this.parentNode.replaceChild(document.createTextNode(s),this);return s});a.__defineGetter__("outerText",function(){var f=this.ownerDocument.createRange();f.selectNodeContents(this);return f.toString()})}a.__defineGetter__("currentStyle",function(){return this.ownerDocument.defaultView.getComputedStyle(this,null)});if(!("parentElement" in d)){a.__defineGetter__("parentElement",function(){return(this.parentNode===this.ownerDocument)?null:this.parentNode})}if(!("children" in d)){a.__defineGetter__("children",function(){var g=[],f;for(f=0;f<this.childNodes.length;f++){var h=this.childNodes[f];if(h.nodeType===1){g.push(h)}}return g})}a.__defineGetter__("canHaveChildren",function(){return !/^(area|base|basefont|col|frame|hr|img|br|input|isindex|link|meta|param)$/i.test(this.tagName)});HTMLDocument.prototype.parentWindow=document.defaultView;HTMLCollection.prototype.item=function(f){return this[f]};var c=Event.prototype;var b=document.createEvent("Event");if(!("srcElement" in b)){c.__defineGetter__("srcElement",function(){var f=this.target;while(f&&f.nodeType!=1){f=f.parentNode}return f})}if(!("fromElement" in b)){c.__defineGetter__("fromElement",function(){var f=(this.type==="mouseover"&&this.relatedTarget)||(this.type==="mouseout"&&this.target)||null;while(f&&f.nodeType!=1){f=f.parentNode}return f});c.__defineGetter__("toElement",function(){var f=(this.type==="mouseover"&&this.target)||(this.type==="mouseout"&&this.relatedTarget)||null;while(f&&f.nodeType!=1){f=f.parentNode}return f})}if(!("x" in b)){c.__defineGetter__("x",function(){return this.pageX});c.__defineGetter__("y",function(){return this.pageY})}if(!("offsetX" in b)){c.__defineGetter__("offsetX",function(){return this.layerX});c.__defineGetter__("offsetY",function(){return this.layerY})}if(!("fromElement" in b)){c.__defineSetter__("returnValue",function(f){if(!f){this.preventDefault()}return f})}if(!("cancelBubble" in b)){c.__defineSetter__("cancelBubble",function(f){if(f){this.stopPropagation()}return f})}})();
/*! dom_base.js */
$window=$(window);$document=$(document);(function(){var e=window.Cms;var a=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,b={};e.support={};var g=document.createElement("input");var f="autocomplete,autofocus,list,placeholder,max,min,multiple,pattern,required,step".split(",");for(var c=0,d=f.length;c<d;c++){e.support[f[c]]=!!(f[c] in g)}g=null;var j=e.getDom=function(l,m){if(!l){return l}if(typeof l=="string"){return(m||document).getElementById(l.replace(/^#/,""))}if(!l.nodeName&&l.length&&l[0].nodeName){return l[0]}return l};e.getByTag=function(q,o){if(arguments.length===1){o=q;q=document}if(typeof(o)!=="string"){throw location.pathname+" - $T : 参数错误 "+name}q=j(q);var p=q.getElementsByTagName(o||"*");var m=[];var l=p.length;for(var n=0;n<l;n++){m.push(p[n])}return m};e.getByName=function(m){if(typeof(m)!=="string"){throw location.pathname+" - $N : 参数错误 "+m}var o=document.getElementsByName(m);if(!o||o.length===0){return null}var l=[];for(var n=0;n<o.length;n++){l.push(o[n])}return l};e.getValues=function(n){n=n.replace(/^#/,"");var q=e.getByName(n);var l=[];var p;if(!q||!q.length){p=document.getElementById(n);if(p&&"SELECT,INPUT,TEXTAREA,BUTTON".indexOf(p.tagName)!==-1){return[e.Node.getValue(n)]}else{return l}}for(var o=0;o<q.length;o++){p=q[o];if(p.tagName&&"SELECT,INPUT,TEXTAREA,BUTTON".indexOf(p.tagName)!==-1){var m=e.Node.getValue(p);if(m!==null){l.push(m)}}}return l};e.setValues=function(n,p){p=String(p);var q=e.getByName(n);if(!q){return}if(!q[0]){return e.Node.setValue(q,p)}var o;if(q[0].type=="checkbox"){if(p===null){p=new Array(4)}var l=p;if(!isArray(p)){l=p.split(",")}for(o=0;o<q.length;o++){for(var m=0;m<l.length;m++){if(q[o].value==l[m]){e.Node.setValue(q[o],l[m]);break}e.Node.setValue(q[o],l[m])}}return}for(o=0;o<q.length;o++){e.Node.setValue(q[o],p)}};e.toXMLDOM=function(o){var n;if(e.isIE){try{n=new ActiveXObject("Microsoft.XMLDOM")}catch(l){n=new ActiveXObject("Msxml2.DOMDocument")}n.loadXML(o)}else{var m=new DOMParser();n=m.parseFromString(o,"text/xml")}return n};b.createNode=b.createDom=function(n,m,p){if(!n){throw"传入createNode方法的参数错误"}if(e.isObject(n)){p=m||document;m=n;n=m.tagName||m.tag||"div"}p=p||document;var o=p.createElement(n);for(var l in m){if(m.hasOwnProperty(l)){if(!/tag|tagName|children|cn|html$/i.test(l)){if(l=="cls"||l=="className"){o.className=m[l]}else{o.setAttribute(l,m[l])}}}}return o};b.createHtml=function(t){var n="",m,r,q,l,u;if(e.isString(t)){n=t}else{if(e.isArray(t)){for(var p=0;p<t.length;p++){if(t[p]){n+=createHtml(t[p])}}}else{n+="<"+(t.tag=t.tag||"div");e.iterate(t,function(o,w){if(!/tag|children|cn|html$/i.test(o)){if(e.isObject(w)){n+=" "+o+'="';e.iterate(w,function(y,x){n+=y+":"+x+";"});n+='"'}else{n+=" "+({cls:"class",htmlFor:"for"}[o]||o)+'="'+w+'"'}}});if(a.test(t.tag)){n+="/>"}else{n+=">";u=t.children||t.cn;if(u){n+=b.createHtml(u)}else{if(t.html){n+=t.html}}n+="</"+t.tag+">"}}}return n};b.removeNode=e.isIE&&!e.isIE8?(function(){Cms._RycDiv=null;return function(m){m=j(m);if(!m||!m.nodeName){return}var l=m.ownerDocument.parentWindow.Cms;if(m&&m.tagName!="BODY"){l._RycDiv=l._RycDiv||m.ownerDocument.createElement("div");l._RycDiv.appendChild(m);l._RycDiv.innerHTML=""}setTimeout(CollectGarbage,1)}}()):(function(m){m=j(m);if(!m||!m.nodeName){return}var l=m.ownerDocument.parentWindow.Cms;if(m&&m.parentNode&&m.tagName!="BODY"){m.parentNode.removeChild(m)}});b.html2Node=b.createNodeByHtml=function(t,u){var l=/^(<[\w\W]+>)$/m;var m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;var q=/<|&#?\w+;/;var n;var p=l.exec(t);u=u||document;if(p&&p[1]){var r=m.exec(t);if(r){n=u.createElement(r[1])}else{var o=u.createElement("div");o.innerHTML=t;n=o.firstChild}}else{if(!q.test(t)){n=u.createTextNode(t)}else{alert(["html2Node方法参数错误",t])}}if(!n||!n.nodeType){alert(["html2Node方法参数错误",t,n])}else{return n}};b.computePosition=function(F,n,E,m,C,q,D,p){var K=p?p.document:document;var o=e.isQuirks?K.body.clientWidth:K.documentElement.clientWidth;var u=e.isQuirks?K.body.clientHeight:K.documentElement.clientHeight;var A=Math.max(K.documentElement.scrollLeft,K.body.scrollLeft);var J=Math.max(K.documentElement.scrollTop,K.body.scrollTop);var H,G;C=C||"";var B=C.indexOf("l")!==-1;var x=C.indexOf("t")!==-1;var y=C.indexOf("r")!==-1;var I=C.indexOf("b")!==-1;if(m-J+D-u<0){if(F-A+q-o<0){return{x:B?E-q:F,y:x?n-D:m}}else{return{x:y?F:E-q,y:x?n-D:m}}}if(F-A+q-o<0){return{x:B?E-q:F,y:I?m:n-D}}else{return{x:y?F:E-q,y:I?m:n-D}}};b.computePositionEx=function(l,p){var o;if(l.ownerDocument!=p.ownerDocument){o=e.Node.getOffsetEx(l)}else{o=e.Node.getOffset(l)}var n=e.Node.getSize(l);var m=e.Node.getSize(p);return b.computePosition(o.x,o.y,o.x+n.width,o.y+n.height,null,m.width,m.height,e.rootWin)};b.getFrameOffset=b.getFrameXY=function(m){var n={x:0,y:0},l;m=m||window;if(m.tagName){if(m.tagName==="IFRAME"){m=m.contentWindow}else{m=m.ownerDocument.defaultView||m.ownerDocument.parentWindow}}while(m!=m.parent&&m!=Cms.rootWin){if(m.frameElement){l=Cms.Node.getOffset(m.frameElement);n.x+=l.x;n.y+=l.y}sw=Math.max(m.document.body.scrollLeft,m.document.documentElement.scrollLeft);sh=Math.max(m.document.body.scrollTop,m.document.documentElement.scrollTop);n.x-=sw;n.y-=sh;m=m.parent}m=null;return{x:n.x,y:n.y,left:n.x,top:n.y}};b.getViewport=function(n){var p,o;if(n){if(e.isDocument(n)){p=n;o=p.parentWindow}else{if(e.isWindow(n)){p=n.document;o=n}}}p=p||document;o=o||window;var l,m;if(e.isIE){l=p.compatMode=="BackCompat"?p.body.clientWidth:p.documentElement.clientWidth;m=p.compatMode=="BackCompat"?p.body.clientHeight:p.documentElement.clientHeight}else{l=o.innerWidth;m=o.innerHeight}return{width:l,height:m}};b.disable=function(n){n=j(n);if(n.tagName.toLowerCase()==="form"){var o=n.elements;for(var m=0;m<o.length;m++){try{$(o[m]).disable()}catch(l){alert("error Node.disable():"+o[m].outerHTML)}}}else{if(n.getAttribute("ztype")&&n.getAttribute("ztype").toLowerCase()==="select"){}else{if($(n).hasClass("z-btn")){$(n).addClass("z-btn-disabled");if(n.onclick){n._onclick_=n.onclick}n.onclick=null;n._disabled=true}else{if($(n).hasClass("zPushBtn")){$(n).addClass("zPushBtnDisabled");if(n.onclick){n._onclick_=n.onclick}n.onclick=null}else{$(n).addClass("disabled");n.disabled="true";if(n.getAttribute("ztype")&&/date|time/i.test(n.getAttribute("ztype"))){e.DateTime.setDisabled(n,true)}}}}}};b.available=function(o,l){o=(o+"").match(/^#?([\w\-]+)$/)[1];if(!o||typeof l!="function"){return}var m=1,n=setInterval(function(){if(document.getElementById(o)&&(l()||1)||++m>500){clearInterval(n)}},40)};b.isRemoved=function(l){if(!l.parentNode||l.parentNode.nodeType==11){return true}else{if(!l.offsetParent){if(l.id&&!document.getElementById(l.id)){return true}if(l.nodeName!=="HTML"&&!l.ownerDocument.body.contains(l)){return true}}}return false};e.elCache={};b.addToCache=function(l,m){if(!l){return}m=m||l.id||e.id(l);if(!e.elCache[m]){e.elCache[m]=l}};e.enableGarbageCollector=true;var h=function(){if(!e.enableGarbageCollector){clearInterval(e.collectorThreadId)}else{var l=jQuery.cache;var n,m=[];for(var o in jQuery.cache){if(l[o].handle&&(n=l[o].handle.elem)){if(n.nodeName&&n.nodeType==1){if(e.Dom.isRemoved(n)){m.push(n)}}}}e.ComponentManager.destroyByDom(m);jQuery.cleanData(m);m=null;window.CollectGarbage&&CollectGarbage()}};e.collectorThreadId=setInterval(h,30000);e.Dom=b})();(function(){var b=window.Cms,a={};b.getEvent=a.getEvent=function(c,f){c=c||(f||window).event;if(!c){var e=arguments.callee.caller,d=0;for(;e!=null;d++,e=e.caller){c=e.arguments[0];if(c&&typeof c=="object"&&(/Event/.test(c)||typeof c.type=="string")){return c}if(d>222){return null}}}return c};b.fixEvent=a.fixEvent=function(d,h){var g=h?h.document:document;if(!d){return null}var c=Math.max(g.documentElement.scrollLeft,g.body.scrollLeft);var e=Math.max(g.documentElement.scrollTop,g.body.scrollTop);if(typeof d.pageX==="undefined"){d.pageX=d.clientX+c-g.body.clientLeft}if(typeof d.pageY==="undefined"){d.pageY=d.clientY+e-g.body.clientTop}if(typeof d.preventDefault==="undefined"){d.preventDefault=function(){d.returnValue=false}}if(typeof d.stopPropagation==="undefined"){d.stopPropagation=function(){d.cancelBubble=true}}if(typeof d.srcElement==="undefined"){var f=d.target;while(f&&f.nodeType!=1){f=f.parentNode}d.srcElement=f}if(d.type=="DOMMouseScroll"&&typeof d.detail!="undefined"&&typeof d.wheelDelta=="undefined"){d.wheelDelta=-d.detail*40}return d};b.stopEvent=a.stopEvent=function(c){c=b.getEvent(c);if(!c){return}if(c.preventDefault){c.preventDefault();c.stopPropagation()}c.cancelBubble=true;c.returnValue=false};b.cancelEvent=a.cancelEvent=function(c){c=b.getEvent(c);if(!c){return}if(c.stopPropagation){c.stopPropagation()}else{c.cancelBubble=true}};b.preventEvent=a.preventEvent=function(c){c=b.getEvent(c);if(!c){return}if(c.preventDefault){c.preventDefault()}else{c.returnValue=false;try{if(c.ctrlKey||c.keyCode>111&&c.keyCode<124){c.keyCode=-1}}catch(d){}}};a.keys={enter:13,"return":13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,"delete":46};a.isSpecialKey=function(d){var c=d.keyCode;return(d.type=="keypress"&&d.ctrlKey)||(c>=33&&c<=40)||(c==a.keys.enter)||(c==a.keys.tab)||(c==a.keys.esc)||(c==a.keys.backspace)||(c>=16&&c<=20)||(c>=44&&c<=46)};a.lockScroll=function(c){c=c||window;if(b.isFirefox){$(window).on("DOMMouseScroll.lock",function(d){d.preventDefault();d.stopPropagation()})}else{$(document.body).on("mousewheel.lock",function(d){d.preventDefault();d.stopPropagation()})}if(c!=c.parent&&c!=Cms.rootWin){c=c.parent;a.lockScroll(c)}};a.unlockScroll=function(c){c=c||window;if(b.isFirefox){$(window).off("DOMMouseScroll.lock")}else{$(document.body).off("mousewheel.lock")}if(c!=c.parent&&c!=Cms.rootWin){c=c.parent;a.unlockScroll(c)}};a.getEventPosition=a.getEventXY=function(c){var f,e;c=b.getEvent(c);var g={x:c.clientX,y:c.clientY};f=c.srcElement.ownerDocument;e=f.defaultView||f.parentWindow;var d=b.Dom.getFrameXY(e);g.x+=d.x;g.y+=d.y;return g};a.getEventPositionLocal=a.getEventPageXY=function(c){c=b.getEvent(c);var e={x:c.clientX,y:c.clientY};var d;if(b.isGecko){d=c.srcElement.ownerDocument.defaultView}else{d=c.srcElement.ownerDocument.parentWindow}e.x+=Math.max(d.document.body.scrollLeft,d.document.documentElement.scrollLeft);e.y+=Math.max(d.document.body.scrollTop,d.document.documentElement.scrollTop);return e};b.Event=a})();(function(){var g=window.Cms,a={},h={};var d,j,f=0,e=0;a.doResizeEvent=function(){var m=g.Dom.getViewport(),n=m.height,l=m.width;if(e!==n||f!==l){d.fire(f=l,e=n)}};a.onWindowResize=function(n,m,l){if(!d){d=new g.CustEvent();j=new g.Util.DelayedTask(this.doResizeEvent);$window.on("resize",this.fireWindowResize)}d.addListener(n,m,l);$window.on("unload",function(){$window.off("resize");d.clearListeners()})};a.fireWindowResize=function(){if(d){j.delay(100)}};a.removeResizeListener=function(m,l){if(d){d.removeListener(m,l)}};var b=window,c=document;if(window!=g.rootWin){b=g.rootWin;c=g.rootWin.document}h.allEvents={};h.on=function(l,m){b.$(c).on("alldocments_"+l+"."+g.pageId,m);if(!h.allEvents[l]){h.allEvents[l]=true}};h.un=h.off=function(l,m){b.$(c).off("alldocments_"+l+"."+g.pageId,m)};h.fire=h.trigger=function(l){if(typeof l=="string"){l="alldocments_"+l}else{l.type="alldocments_"+l.type}b.$(c).trigger(l)};h._unload=function(){for(var l in h.allEvents){b.$(c).off("alldocments_"+l+"."+g.pageId)}};$document.on("click",h.trigger);$document.on("mousedown",h.trigger);$document.on("mouseup",h.trigger);g.EventManager=a;g.AllDocumentsEvent=h})();
/*! url.js */
(function(){var d=window.Cms,e={};var a=/^(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]*)?)(#.*)?/;e.parseUrl=function(g){if(typeof g=="object"&&typeof g.href!="undefined"){return g}var f=function(l){var n=function(p,r,q){return[p.substring(0,r),p.substring(q)].join("")};if(l.indexOf("/../">0)){var j=l.indexOf("://");var o=j>0?l.substring(0,j+3):"";l=j>0?l.substring(j+3):l;for(;;){j=l.indexOf("/../");var m=l.lastIndexOf("/",j-1);if(j>0&&m>0){l=n(l,m,j+3)}else{return o+l}}}};g=f(g);var h=a.exec(g||"")||[];return{href:h[0]||"",hrefNoHash:h[1]||"",hrefNoSearch:h[2]||"",domain:h[3]||"",protocol:h[4]||"",doubleSlash:h[5]||"",authority:h[6]||"",username:h[8]||"",password:h[9]||"",host:h[10]||"",hostname:h[11]||"",port:h[12]||"",pathname:h[13]||"",directory:h[14]||"",filename:h[15]||"",search:h[16]||"",hash:h[17]||""}};e.documentUrl=e.parseUrl(location.href);e.getQueryValue=function(g,h){var j=new RegExp("(^|&|\\?|#)"+d.String.escapeReg(h)+"=([^&#]*)(&|\x24|#)","");var f=(""+g).match(j);if(f){return f[2]}return null};e.addSearchParams=function(g,l){var f=e.parseUrl(g),j=(typeof l==="object")?$.param(l):l,h=f.search||"?";return f.hrefNoSearch+h+(h.charAt(h.length-1)!=="?"?"&":"")+j+(f.hash||"")};e.makePathAbsolute=function(m,j){if(m&&/^\/|^[a-z]+\:/.test(m)){return m}m=m||"";var g=/(^\w+\:\/\/[^\/]*)(\/.*)/.exec(j);var l="";if(g){l=g[1];j=g[2]}j=j?j.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";var f=j?j.split("/"):[],o=m.split("/");for(var h=0;h<o.length;h++){var n=o[h];switch(n){case".":break;case"..":if(f.length){f.pop()}break;default:f.push(n);break}}return l+"/"+f.join("/")};e.makeUrlAbsolute=function(g,j){if(/^\w+\:\/\//.test(g)){return g}if(j===undefined){var t=$("head>base");if(t.length){j=e.makeUrlAbsolute(t.attr("href"),e.documentUrl.href)}else{j=e.documentUrl}}var m=e.parseUrl(g),p=e.parseUrl(j),q=m.protocol||p.protocol,h=m.protocol?m.doubleSlash:(m.doubleSlash||p.doubleSlash),o=m.authority||p.authority,n=m.pathname!=="",f=e.makePathAbsolute(m.pathname||p.filename,p.pathname),r=m.search||(!n&&p.search)||"",l=m.hash;return q+h+o+f+r+l};e.getDocumentBase=function(){var f=$("head>base");return f.length?e.parseUrl(e.makeUrlAbsolute(f.attr("href"),e.documentUrl.href)):e.documentUrl};e.relative2Absolute=function(f,g){if(g){return d.CONTEXTPATH+"/"+f}else{return e.makePathAbsolute(f,e.getDocumentBase().hrefNoSearch)}};var b="&ui-state=dialog";var c=function(g){var f=e.parseUrl(g);if(f.protocol!==""){return(f.hash&&(f.hrefNoHash==e.documentUrl.hrefNoHash))}return(/^#/).test(f.href)};e.convertUrlToDataUrl=function(g){var f=e.parseUrl(g);if(c(f)){return f.hash.split(b)[0].replace(/^#/,"")}else{if(f.domain==documentUrl.domain){return f.hrefNoHash.replace(documentUrl.domain,"").split(b)[0]}}return window.decodeURIComponent(g)};d.Url=e})();
/*! page.js */
$window=$(window);(function(){var c=window.Cms,b=c.isIE;var a={};a._Sort=function(e,d){var g=e[1];var f=d[1];if(typeof(g)==="number"){if(typeof(f)==="number"){if(g>f){return 1}else{if(g===f){return 0}else{return -1}}}return -1}else{if(typeof(f)==="number"){return 1}else{return 0}}};a.isLoaded=a.isLoaded||false;a.loadFunctions=[];a.load=function(d){a.isLoaded=true;if(a.loadFunctions.length){a.loadFunctions.sort(a._Sort);while(a.loadFunctions.length){var e=a.loadFunctions.shift()[0];e(d)}}};a.onLoad=function(e,d){a.loadFunctions.push([e,d]);if(a.isLoaded){setTimeout(a.load,100)}};$(window).one("load.pageload",a.load);a.isReadied=a.isReadied||false;a.readyFunctions=[];a.ready=function(d){if(typeof d=="function"){return c.Console.error(location.pathname+" ## Page.js -- Page.ready ::  参数预期为Event，但目前转入了Function "+d)}a.isReadied=true;if(a.readyFunctions.length){a.readyFunctions.sort(a._Sort);while(a.readyFunctions.length){var e=a.readyFunctions.shift()[0];e(d)}}};a.onReady=function(e,d){a.readyFunctions.push([e,d]);if(a.isReadied){setTimeout(a.ready,10)}};$document.one("ready",a.ready);$window.on("unload",function(){a.readyFunctions.length=0;a.loadFunctions.length=0;$(window).off("load.pageload")});c.Page=a})();
/*! node.js */
(function(){var z=window.Cms,getDom=z.getDom,Node={};z.idSeed={_seed:0};z.id=function(elem){var idSeed=z.idSeed;if(!elem){return"id"+(++idSeed._seed)}if(typeof elem=="string"){return"elem"+(++idSeed._seed)}if(elem.id){return elem.id}if(elem.URL&&elem.readyState){elem._id="z-document";return elem._id}else{if(elem.location&&elem.navigator){elem._id="z-window";return elem._id}else{if(elem.nodeName){if(idSeed[elem.nodeName]===undefined){idSeed[elem.nodeName]=0}if(!elem.getAttribute("_id")){elem._id=elem.nodeName.toLowerCase()+(++idSeed[elem.nodeName]);elem.setAttribute("_id",elem._id);return elem._id}else{return elem.getAttribute("_id")}}}}window.console&&console.error(location.pathname+" ## node.js -- id ::  参数错误，试图获取非DOM元素的id "+elem);return};Node.getComponent=function(elem,ctype){if(ctype=="Selector"){ctype="Combox"}if(elem._components){if(!ctype){for(var k in elem._components){ctype=k}}return z.ComponentManager.getById(elem._components[ctype])}};Node.isBorderBox=function(elem){var currentStyle=elem.currentStyle;return currentStyle.boxSizing=="border-box"||currentStyle.MozBoxSizing=="border-box"||currentStyle.WebkitBoxSizing=="border-box"};var cssStyleToDomStyle=(function(){var cache={};cache["float"]=z.isIE?"styleFloat":"cssFloat";function replacer(match){return match.charAt(1).toUpperCase()}return function(cssName){return cache[cssName]?cache[cssName]:(cache[cssName]=cssName.toLowerCase().replace(/-./g,replacer))}})();var getPixel=function(el,value){if(/px$/.test(value)||!value){return parseInt(value,10)||0}var right=el.style.right,runtimeRight=el.runtimeStyle.right;var result;var curStyle=el.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(el,null)}el.runtimeStyle.right=curStyle.right;el.style.right=value;result=el.style.pixelRight||0;el.style.right=right;el.runtimeStyle.right=runtimeRight;return result};Node.getByTag=function(elem,tagName){elem=getDom(elem);elem=elem||document;tagName=tagName.toUpperCase();var ts=elem.getElementsByTagName(tagName);var arr=[];var len=ts.length;for(var i=0;i<len;i++){arr.push(ts[i])}return arr};Node.getAttr=function(elem,attr,iFlags){elem=getDom(elem);if("href"!=attr&&elem[attr]!==undefined){return elem[attr]}else{return elem.getAttribute(attr,iFlags||(elem.tagName=="A"&&attr.toLowerCase()=="href"&&2)||null)}};Node.setAttr=function(elem,attr,value){elem=getDom(elem);if(attr&&typeof attr==="object"){for(var prop in attr){if(attr.hasOwnProperty(prop)){Node.setAttr(elem,prop,attr[prop])}}}else{if(elem.setAttribute){elem.setAttribute(attr,value)}}return elem};Node.attr=function(elem,attr,value){if(typeof(value)==="undefined"){return Node.getAttr(elem,attr)}else{return Node.setAttr(elem,attr,value)}};Node.setOpacity=function(elem,alpha){if((alpha=Number(alpha))<1){alpha*=100}if(z.isIE){elem.style.filter="alpha(opacity="+alpha+")";if(z.isIE6&&alpha>98){elem.style.filter=""}}else{elem.style.opacity=alpha/100}return elem};Node.getOpacity=function(elem){var alpha;if(z.isIE){alpha=elem.currentStyle.filter.indexOf("opacity=")>=0?(parseFloat(elem.currentStyle.filter.match(/opacity=([^)]*)/)[1]))+"":"100"}else{alpha=100*elem.ownerDocument.defaultView.getComputedStyle(elem,null).opacity}return alpha};Node.setStyle=function(elem,attr,value){elem=getDom(elem);if(attr&&typeof attr==="object"){for(var prop in attr){if(attr.hasOwnProperty(prop)){Node.setStyle(elem,prop,attr[prop])}}}else{attr=attr.camelize();if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.setOpacity(elem,value)}}try{elem.style[attr]=value}catch(e){console.log(elem,"设置样式"+attr+"为"+value+"失败")}}return elem};Node.getStyle=function(elem,attr){elem=getDom(elem);attr=z.String.camelize(attr);if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.getOpacity(elem)}}var result=elem.style[attr];return(!result||result==="auto")?null:result};Node.getCurrentStyle=function(elem,attr){elem=getDom(elem);attr=z.String.camelize(attr);if(attr=="float"){attr=z.isIE?"styleFloat":"cssFloat"}else{if(attr=="opacity"){return Node.getOpacity(elem)}}if(elem.currentStyle){var val=elem.currentStyle[attr];if(val==="auto"&&(attr==="width"||attr==="height")){var rect=elem.getBoundingClientRect();if(attr==="width"){return rect.right-rect.left+"px"}else{return rect.bottom-rect.top+"px"}}return val}else{var curStyle=elem.ownerDocument.defaultView.getComputedStyle(elem,null);if(!curStyle){curStyle=z.rootWin.getComputedStyle(elem,null)}if(curStyle){return curStyle[attr]}else{return elem.style[attr]}}};Node.css=function(elem,attr,value){if(typeof(value)==="undefined"){return Node.getCurrentStyle(elem,attr)}else{return Node.setStyle(elem,attr,value)}};Node.fire=function(elem,eventName){elem=getDom(elem);if(elem.fireEvent){return elem.fireEvent(eventName)}else{var evtObj;evtName=evtName.substring(2);var doc=elem.ownerDocument||document;if(/mouse|click/i.test(evtName)){evtObj=doc.createEvent("MouseEvents");evtObj.initMouseEvent(evtName,true,true,doc.defaultView,1,0,0,0,0,false,false,false,false,0,null)}else{evtObj=doc.createEvent("Events");evtObj.initEvent(evtName,true,true)}return this.dispatchEvent(evtObj)}};Node.isVisible=function(elem){elem=getDom(elem);if(!elem.parentNode||elem.tagName!=="BODY"&&elem.parentNode.tagName!=="BODY"&&!elem.offsetParent){return false}var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null);if(!curStyle){return false}}if(curStyle.display==="none"){return false}else{if(elem.offsetWidth===0&&elem.offsetHeight===0&&elem.tagName!=="TR"){return false}}return true};Node.hide=function(elem){elem=getDom(elem);if(!elem){return}if(elem.tagName.toLowerCase()==="input"&&elem.type==="button"){if(elem.parentNode&&elem.parentNode.getAttribute("ztype")==="zInputBtnWrapper"){elem.parentNode.style.display="none"}}var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}if(curStyle&&curStyle.display!=="none"){elem._style_display=curStyle.display}elem.style.display="none";return elem};Node.show=function(elem,value){elem=getDom(elem);if(!elem){return}var displayMap=z.isIE6?{li:"list-item",thead:"table-header-group",tfoot:"table-footer-group",button:"inline-block",textarea:"inline-block",input:"inline-block",select:"inline-block"}:{li:"list-item",table:"table",tr:"table-row",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",col:"table-column",colgroup:"table-column-group",td:"table-cell",caption:"table-caption",button:"inline-block",textarea:"inline-block",input:"inline-block",select:"inline-block"};if(elem.tagName.toLowerCase()==="input"&&elem.type==="button"){if(elem.parentNode&&elem.parentNode.getAttribute("ztype")==="zInputBtnWrapper"){elem.parentNode.style.display=""}}var display2,tagName=elem.tagName.toLowerCase();if(value){display2=value}else{if(elem._style_display){display2=elem._style_display}else{if(displayMap[tagName]){display2=displayMap[tagName]}else{if(/^(body|div|dl|dt|dd|fieldset|form|h\d|ol|p|ul|center|hr|menu|pre)$/i.test(tagName)){display2="block"}else{display2=""}}}}elem.style.display=display2;return elem};Node.toggle=function(elem,value){elem=getDom(elem);if(Node.isVisible(elem)){Node.hide(elem)}else{Node.show(elem,value)}return elem};Node.unselectable=function(elem){elem=getDom(elem)||document.body;elem.unselectable="on";elem.onselectstart=function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}return false};elem.style["-moz-user-select"]="none";elem.style["-khtml-user-select"]="none";elem.style["-webkit-user-select"]="none";return elem};Node.selectable=function(elem){elem=getDom(elem)||document.body;elem.unselectable="off";elem.onselectstart=null;elem.style["-moz-user-select"]="auto";elem.style["-khtml-user-select"]="auto";elem.style["-webkit-user-select"]="auto";return elem};Node.disable=function(elem,mask){elem=getDom(elem);if(!elem||!elem.tagName){return}if(elem.tagName.toLowerCase()==="form"){var elements=elem.elements;for(var i=0;i<elements.length;i++){try{Node.disable(elements[i])}catch(ex){alert("error Node.disable():"+elements[i].outerHTML)}}}else{if(elem.getAttribute("ztype")){var ztype=elem.getAttribute("ztype");if(/select|date|time/i.test(ztype)&&!isIE){elem.disabled=true}else{if(elem._components){for(var t in elem._components){Node.getComponent(elem,t).disable()}}}}else{Node.addClass(elem,"disabled");elem.disabled=true}}return elem};Node.enable=function(elem){elem=getDom(elem);if(elem.tagName.toLowerCase()==="form"){var elements=elem.elements;for(var i=0;i<elements.length;i++){var element=elements[i];try{Node.enable(elements[i])}catch(ex){alert("enable():"+elements[i].outerHTML)}}}else{if(elem.getAttribute("ztype")&&elem.getAttribute("ztype").toLowerCase()==="select"){elem.disabled=false}else{if(elem.getAttribute("ztype")){var ztype=elem.getAttribute("ztype");if(/select|date|time/i.test(ztype)){elem.disabled=false}else{if(elem._components){for(var t in elem._components){Node.getComponent(elem,t).enable()}}}}else{if(Node.hasClass(elem,"disabled")){Node.removeClass(elem,"disabled")}elem.disabled=false}}}return elem};Node.getPadding=function(elem){var el=getDom(elem);return[getPixel(el,Node.getCurrentStyle(el,"paddingTop")),getPixel(el,Node.getCurrentStyle(el,"paddingRight")),getPixel(el,Node.getCurrentStyle(el,"paddingBottom")),getPixel(el,Node.getCurrentStyle(el,"paddingLeft"))]};Node.getMargin=function(elem){var el=getDom(elem);return[getPixel(el,Node.getCurrentStyle(el,"marginTop")),getPixel(el,Node.getCurrentStyle(el,"marginRight")),getPixel(el,Node.getCurrentStyle(el,"marginBottom")),getPixel(el,Node.getCurrentStyle(el,"marginLeft"))]};Node.getOuterW=function(elem){elem=getDom(elem);var map={thin:2,medium:4,thick:6};var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}var blw=curStyle.borderLeftWidth;blw=curStyle.borderLeftStyle=="none"?0:(map[blw]||parseFloat(blw)||0);var brw=curStyle.borderRightWidth;brw=curStyle.borderRightStyle=="none"?0:(map[brw]||parseFloat(brw)||0);var pl=curStyle.paddingLeft;pl=parseFloat(pl)||0;var pr=curStyle.paddingRight;pr=parseFloat(pr)||0;return blw+brw+pl+pr};Node.getOuterH=function(elem){elem=getDom(elem);var map={thin:2,medium:4,thick:6};var curStyle=elem.currentStyle;if(!curStyle&&!z.isIE){curStyle=z.rootWin.getComputedStyle(elem,null)}var btw=curStyle.borderTopWidth;btw=curStyle.borderTopStyle=="none"?0:(map[btw]||parseFloat(btw)||0);var bbw=curStyle.borderBottomWidth;bbw=curStyle.borderBottomStyle=="none"?0:(map[bbw]||parseFloat(bbw)||0);var pt=curStyle.paddingTop;pt=parseFloat(pt)||0;var pb=curStyle.paddingBottom;pb=parseFloat(pb)||0;return btw+bbw+pt+pb};Node.getContentSize=function(elem){elem=getDom(elem);var dim=Node.getSize(elem);return{width:dim.width-Node.getOuterW(elem),height:dim.height-Node.getOuterH(elem)}};Node.getSize=function(elem){elem=getDom(elem);var dim;if((/^(head|meta|script|link|area|param)$/i).test(elem.tagName)){dim={width:0,height:0}}else{if(Node.getCurrentStyle(elem,"display")==="none"){var style=elem.style;var vis=style.visibility;var pos=style.position;var dis=style.display;style.visibility="hidden";style.position="absolute";switch(elem.tagName.toLowerCase()){case"table":style.display="table";break;case"tr":style.display="table-row";break;case"td":case"th":style.display="table-cell";break;case"button":case"textarea":case"input":case"select":style.display="inline-block";break;default:style.display="block"}var w=elem.offsetWidth;var h=elem.offsetHeight;style.display=dis;style.position=pos;style.visibility=vis;dim={width:w,height:h}}else{dim={width:elem.offsetWidth,height:elem.offsetHeight}}}return dim};Node.setSize=function(elem,w,h){elem=getDom(elem);if(typeof h=="undefined"&&z.isObject(w)){h=w.height;w=w.width}if(typeof w=="string"&&!/^\d+\.?\d*(px)?$/.test(w)){elem.style.width=w}else{w=parseFloat(w)}if(typeof h=="string"&&!/^\d+\.?\d*(px)?$/.test(h)){elem.style.height=h}else{h=parseFloat(h)}if(!isNaN(w)){elem.style.width=(z.isBorderBox?w:Math.max(+w-Node.getOuterW(elem),0))+"px"}if(!isNaN(h)){elem.style.height=(z.isBorderBox?h:Math.max(+h-Node.getOuterH(elem),0))+"px"}return elem};Node.setContentSize=function(elem,w,h){elem=getDom(elem);w=parseFloat(w,10);h=parseFloat(h,10);if(isNaN(w)&&isNaN(h)){throw"node.js -- Node.setSize :: 传入setContentSize方法的参数错误"}if(!isNaN(w)){elem.style.width=(z.isBorderBox?+w+Node.getOuterW(elem):w)+"px"}if(!isNaN(h)){elem.style.height=(z.isBorderBox?+h+Node.getOuterH(elem):h)+"px"}return elem};Node.setPosition=function(elem,x,y){elem=getDom(elem);if(typeof y=="undefined"&&z.isObject(x)){y=typeof x.y=="undefined"?x.top:x.y;x=typeof x.x=="undefined"?x.left:x.x}x=parseFloat(x);y=parseFloat(y);if(!isNaN(x)){elem.style.left=x+"px";elem.left=x}if(!isNaN(y)){elem.style.top=y+"px";elem.top=y}return elem};Node.getPosition=Node.getOffset=function(elem){elem=getDom(elem);var doc=elem.ownerDocument;if(!elem.parentNode||elem.tagName!=="BODY"&&elem.parentNode.tagName!=="BODY"&&!elem.offsetParent){return false}if(elem.parentNode===null||elem.style.display==="none"){return false}var pNode=null;var pos=[];var box;if(elem.getBoundingClientRect){box=elem.getBoundingClientRect();var scrollTop=Math.max(doc.documentElement.scrollTop,doc.body.scrollTop);var scrollLeft=Math.max(doc.documentElement.scrollLeft,doc.body.scrollLeft);var X=box.left+scrollLeft-doc.documentElement.clientLeft-doc.body.clientLeft;var Y=box.top+scrollTop-doc.documentElement.clientTop-doc.body.clientTop;return{x:X,y:Y,left:X,top:Y}}else{if(doc.getBoxObjectFor){box=doc.getBoxObjectFor(elem);var borderLeft=(elem.style.borderLeftWidth)?parseInt(elem.style.borderLeftWidth,10):0;var borderTop=(elem.style.borderTopWidth)?parseInt(elem.style.borderTopWidth,10):0;pos=[box.x-borderLeft,box.y-borderTop]}}if(elem.parentNode){pNode=elem.parentNode}else{pNode=null}while(pNode&&pNode.tagName!=="BODY"&&pNode.tagName!=="HTML"){pos[0]-=pNode.scrollLeft;pos[1]-=pNode.scrollTop;if(pNode.parentNode){pNode=pNode.parentNode}else{pNode=null}}return{x:pos[0],y:pos[1],left:pos[0],top:pos[1]}};Node.offset=function(elem,x,y){if(typeof x=="undefined"){Node.getOffset(elem)}else{Node.setPosition(elem,x,y)}};Node.getPositionEx=Node.getOffsetEx=function(elem){var el=getDom(elem);var pos=Node.getOffset(el);var pos2=z.Dom.getFrameXY();pos.x+=pos2.x;pos.y+=pos2.y;return pos};Node.getScroll=function(elem){var d=getDom(elem);var doc;doc=z.isDocument(d)?d:d.ownerDocument;var win=doc.parentWindow,body=doc.body,docElement=doc.documentElement,l,t,ret;if(d==doc||d==body){if(z.isIE&&z.isStrict){l=docElement.scrollLeft;t=docElement.scrollTop}else{l=win.pageXOffset;t=win.pageYOffset}ret={left:l||(body?body.scrollLeft:0),top:t||(body?body.scrollTop:0)}}else{ret={left:d.scrollLeft,top:d.scrollTop}}return ret};Node.getRect=Node.getBox=function(elem){var el=getDom(elem);var p=Node.getOffset(el);var x=p.x;var y=p.y;var w=el.offsetWidth;var h=el.offsetHeight;return{width:w,height:h,left:x,top:y,bottom:y+h,right:x+w}};Node.setBox=function(elem,rect){var el=getDom(elem);el.setPosition(rect);el.setSize(rect);return el};Node.createChild=function(elem,config,insertBefore,returnDom){var dom;var el=z.getDom(elem);dom=z.Dom.createNode(config||{tag:"div"});if(insertBefore&&el.firstChild){dom.insertBefore(el,el.firstChild)}else{el.appendChild(dom)}return returnDom===true?dom:elem};Node.createProxy=function(elem,className,renderTo,matchBox){var el=getDom(elem);var doc=renderTo?renderTo.ownerDocument:document;var div=z.Dom.createNode({className:className||""},doc);var proxy=renderTo?renderTo.appendChild(div):el.parentNode.insertBefore(div,el);if(matchBox){Node.setBox(proxy,Node.getBox(el))}return proxy};Node.scrollTo=function(elem,x,y,anim){var el=getDom(elem);el.scrollLeft=x;el.scrollTop=y;return el};Node.getParent=function(elem,tagName){var el=getDom(elem);if(!tagName){return el.parentNode}while(el){if(el.nodeName.toLowerCase()===tagName.toLowerCase()){return el}el=el.parentNode}return null};Node.getParentBy=function(elem,func){var el=getDom(elem);while(el&&el.nodeType){if(func(el)){return el}el=el.parentNode}return null};Node.getParentByClass=function(elem,className){var el=getDom(elem);className=className.replace(/\-/,"\\-");while(el&&el.nodeType){if(new RegExp("(?:^|\\s)"+className+"(?:\\s|$)").test(el.className)){return el}el=el.parentNode}return null};Node.getParentByAttr=function(elem,attrName,attrValue){var el=getDom(elem);while(el&&el.tagName&&el.getAttribute){if(el.getAttribute(attrName)===attrValue){return el}el=el.parentNode}return null};Node.getForm=function(elem){var el=getDom(elem);return Node.getParent(el,"form")};Node.nextElement=function(elem,tagName){var el=getDom(elem);if(typeof elem=="string"&&!el){return null}var x=el.nextSibling;while(x&&x.nodeType!==1&&(tagName?x.tagName!==tagName:true)){x=x.nextSibling}return x};Node.prevElement=function(elem,tagName){var el=getDom(elem);if(typeof elem=="string"&&!el){return null}var x=el.previousSibling;while(x&&x.nodeType!==1&&(tagName?x.tagName==tagName:true)){x=x.previousSibling}return x};Node.siblings=function(elem,tagName){var el=getDom(elem);var tempEl=el.parentNode.firstChild,ret=[];var fcheck=function(el){return tagName?true:(el.tagName?false:el.tagName.toLowerCase()==tagName.toLowerCase())};while(tempEl){if(el!=tempEl&&fcheck(tempEl)){ret.push(tempEl)}tempEl=tempEl.nextSibling}return ret};Node.hasClass=Node.hasClassName=function(elem,className){var el=getDom(elem);className=className.replace(/\-/,"\\-");return new RegExp("(?:^|\\s)"+className+"(?:\\s|$)").test(el.className)};Node.addClass=function(elem,className){var el=getDom(elem);if(!Node.hasClass(el,className)){el.className=el.className?el.className+" "+className:className}return el};Node.removeClass=function(elem,className){var el=getDom(elem);className=className.replace(/\-/,"\\-");var classToRemove=new RegExp(("(^|\\s)"+className+"(?=\\s|$)"),"i");el.className=el.className.replace(classToRemove,"").replace(/^\s+|\s+$/g,"");return el};Node.replaceClass=function(elem,oldClassName,newClassName){var el=getDom(elem);if(Node.hasClass(el,oldClassName)){el.className=el.className.replace(new RegExp("(^|\\s)"+oldClassName+"(?=\\s|$)","ig"),"$1"+newClassName)}else{Node.addClass(el,newClassName)}return el};Node.toggleClass=function(elem,className1,className2){var el=getDom(elem);className2=className2||"";if(Node.hasClass(el,className1)){Node.replaceClass(el,className1,className2)}else{Node.replaceClass(el,className2,className1)}return el};Node.getElementsByClassName=function(elem,className,tagName){var el=getDom(elem)||document;if(!className&&tagName){return el.getElementsByTagName(tagName)}if(!tagName&&className.indexOf(".")!=-1){var match=/^([\w\-]+)?\.([\w\-]+)/.exec(className);className=match[1];tagName==match[2]}var children=el.getElementsByTagName(tagName||"*");var elements=[];for(var i=0;i<children.length;i++){if(Node.hasClass(children[i],className)){elements.push(children[i])}}return elements};var _filterByProp=function(collection,attr,condition){var node,nodeProp,ret=[],match,isEval;if(collection.nodeName&&collection.nodeType){collection=[collection]}if(condition===undefined){if(typeof attr=="string"){condition=function(){return !!eval("(this."+attr+")")};isEval=true}else{if(typeof attr=="function"){condition=attr}}}for(var i=0;i<collection.length;i++){node=collection[i];nodeProp=attr;if(typeof attr=="string"&&!isEval){nodeProp=node[attr]}if(typeof condition=="function"){match=condition.call(node,nodeProp)}else{if(Object.prototype.toString.call(condition)=="[object RegExp]"){match=condition.test(nodeProp)}else{if(typeof condition=="boolean"){match=nodeProp===condition}else{match=nodeProp===condition}}}if(match){ret.push(node)}}return ret};var _filterByAttr=function(collection,attr,condition){var node,nodeProp,ret=[],match,isEval;if(collection.nodeName&&collection.nodeType){collection=[collection]}if(condition===undefined){if(typeof attr=="string"){condition=function(){return !!eval('(this.getAttribute("'+attr+'"))')};isEval=true}else{if(typeof attr=="function"){condition=attr}}}for(var i=0;i<collection.length;i++){node=collection[i];nodeProp=attr;if(typeof attr=="string"&&!isEval){nodeProp=node.getAttribute(attr)}if(typeof condition=="function"){match=condition.call(node,nodeProp)}else{if(Object.prototype.toString.call(condition)=="[object RegExp]"){match=condition.test(nodeProp)}else{if(typeof condition=="boolean"){match=(nodeProp==null?false:true)===condition}else{match=nodeProp===String(condition)}}}if(match){ret.push(node)}}return ret};Node.find=function(elem,selector){if(typeof elem=="string"&&!selector){selector=elem;elem=document}var ele=getDom(elem);var match=/^([\w\-]+)?(?:\.([\w\-]+))?(?:\:([\w\-]+))?/.exec(selector);var tagName=match[1],className=match[2],prop=match[3];if(prop&&!tagName){tagName="INPUT"}var collection=Node.getElementsByClassName(ele,className,tagName);if(prop){if(/^(text|password|radio|checkbox|submit|image|reset|file|hidden)$/.test(prop)){return _filterByProp(collection,"type",prop)}else{if(/^(disabled|checked)$/.test(prop)){return _filterByProp(collection,prop,true)}else{throw new Error("Node.find方法不支持此伪类选择器:"+prop)}}}return collection};Node.findOne=function(elem,selector){return Node.find(elem,selector)[0]};Node.getValue=function(elem){var ele=getDom(elem);if(!ele){window.console&&console.error(location.pathname+' - $V : 表单元素"'+(elem||arguments.callee.caller["arguments"][0])+'"不存在 ');return}if(!ele.type){return ele.value}switch(ele.type.toLowerCase()){case"text":case"textarea":if(ele.getAttribute("placeholder")&&ele.value==ele.getAttribute("placeholder")){return""}return ele.value;case"submit":case"hidden":case"password":case"file":case"image":case"select-one":return ele.value;case"checkbox":case"radio":if(ele.checked){return ele.value}return null;default:return""}};Node.setValue=function(elem,value){var ele=getDom(elem);if(!value&&value!==0){value=""}if(!ele){alert(location.pathname+' - $V : 表单元素"'+(elem||arguments.callee.caller["arguments"][0])+'"不存在 ');return}switch(ele.type.toLowerCase()){case"submit":case"hidden":case"password":case"textarea":case"button":case"file":case"image":case"select-one":case"text":ele.value=value;break;case"checkbox":case"radio":if(ele.value===""+value){ele.checked=true}else{ele.checked=false}break}return ele};Node.val=function(elem,value){if(typeof(value)==="undefined"){return Node.getValue(elem)}else{return Node.setValue(elem,value)}};Node.contains=function(elem,targetEl){var el=getDom(elem);target=getDom(targetEl);return el.contains?el!=target&&el.contains(target):!!(el.compareDocumentPosition(target)&16)};Node.anchorPos=function(me,elem,dir,rdir,off,rean,move){var el=getDom(elem);var doc=el.ownerDocument;if(el.nodeName){var bxy=Node.getOffset(el),bsz=Node.getSize(el);el=[bxy.x,bxy.y,bsz.width,bsz.height]}me=getDom(me);var sz=Node.getSize(me),w=sz.width,h=sz.height,bx=el[0],by=el[1],bw=el[2],bh=el[3],nx,ny;nx=dir.charAt(0)==="l"?bx-w:bx+bw;ny=dir.charAt(1)==="t"?by-h:by+bh;if(rdir){if(rdir.charAt(0)==="h"){nx=rdir.charAt(1)==="l"?nx-w:nx+w}else{ny=rdir.charAt(1)==="u"?ny-h:ny+h}}if(off){nx+=off[0];ny+=off[1]}if(rean){var vp=z.Dom.getViewport(doc),vh=vp.height,vw=vp.width;if(nx<0){nx=Math.max(0,bx);if(by+bh>ny&&by<ny+h){ny=by-h}}if(nx+w>vw){nx=by+bh>ny&&by<ny+h?bx-w:Math.min(vw-w,bx+bw-w)}if(ny<0){ny=bx+bw>nx&&bx<nx+w?by+bh:Math.max(0,by)}if(ny+h>vh){ny=bx+bw>nx&&bx<nx+w?by-h:Math.min(vh-h,by+bh-h)}}if(move){Node.setPosition(me,nx,ny)}return{x:nx,y:ny}};Node.getConstrainToXY=function(elem,ConstrainEl,local,offsets,proposedXY){var el=getDom(elem);ConstrainEl=getDom(ConstrainEl);var os={top:0,left:0,bottom:0,right:0};offsets=offsets?z.applyIf(offsets,os):os;var vw,vh,vx=0,vy=0;if(ConstrainEl.tagName=="BODY"||z.isDocument(ConstrainEl)){var v=z.Dom.getViewport(ConstrainEl.ownerDocument||ConstrainEl);vw=v.width;vh=v.height}else{vw=ConstrainEl.clientWidth;vh=ConstrainEl.clientHeight;if(!local){var vxy=ConstrainEl.getOffset();vx=vxy[0];vy=vxy[1]}}var s=Node.getScroll(ConstrainEl);vx+=offsets.left+s.left;vy+=offsets.top+s.top;vw-=offsets.right;vh-=offsets.bottom;var vr=vx+vw,vb=vy+vh,xy=proposedXY||(!local?Node.getOffset(el):{left:parseInt(Node.getStyle(el,"left"),10)||0,top:parseInt(Node.getStyle(el,"top"),10)||0});var x=xy.left,y=xy.top,offset=el.getConstrainOffset?el.getConstrainOffset():0,w=el.offsetWidth+offset,h=el.offsetHeight+offset;var moved=false;if((x+w)>vr){x=vr-w;moved=true}if((y+h)>vb){y=vb-h;moved=true}if(x<vx){x=vx;moved=true}if(y<vy){y=vy;moved=true}return moved?{left:x,top:y}:false};Node.scrollIntoView=function(elem,container,hscroll,animate){container=getDom(container)||document.body;var el=getDom(elem);var elOffset=Node.getOffset(el),ctOffset=Node.getOffset(container),offsets=[elOffset.left-ctOffset.left,elOffset.top-ctOffset.top],left=offsets[0]+container.scrollLeft,top=offsets[1]+container.scrollTop,bottom=top+el.offsetHeight,right=left+el.offsetWidth,ctClientHeight=container.clientHeight,ctScrollTop=parseInt(container.scrollTop,10),ctScrollLeft=parseInt(container.scrollLeft,10),ctBottom=ctScrollTop+ctClientHeight,ctRight=ctScrollLeft+container.clientWidth,newPos;if(el.offsetHeight>ctClientHeight||top<ctScrollTop){newPos=top}else{if(bottom>ctBottom){newPos=bottom-ctClientHeight}}if(newPos!=null){if(animate){$(container).animate({scrollTop:newPos})}else{container.scrollTop=newPos}}if(hscroll!==false){newPos=null;if(el.offsetWidth>container.clientWidth||left<ctScrollLeft){newPos=left}else{if(right>ctRight){newPos=right-container.clientWidth}}if(newPos!=null){if(animate){$(container).animate({scrollLeft:newPos})}else{container.scrollLeft=newPos}}}return this};Node.getJson=function(ele,jsonObj,filter){jsonObj=jsonObj||{};filter=filter||function(el){return false};var _push=function(name,value,intoArray){if(typeof jsonObj[name]!="undefined"){if(Object.prototype.toString.apply(jsonObj[name])!="[object Array]"&&!intoArray){jsonObj[name]=[jsonObj[name]]}jsonObj[name].push(value)}else{jsonObj[name]=intoArray?[value]:value}};var el=z.getDom(ele);if(!el||filter(el)){return null}if(/^(input|textarea|select)$/i.test(el.tagName)){var nameOrId=el.name||el.id;if(!el.type||!nameOrId){return}switch(el.type){case"text":case"textarea":if(el.getAttribute("placeholder")&&el.value==el.getAttribute("placeholder")){_push(nameOrId,"")}else{_push(nameOrId,el.value)}break;case"hidden":case"password":_push(nameOrId,el.value);break;case"checkbox":if(el.name&&el.checked){_push(nameOrId,el.value,true)}break;case"radio":if(el.name&&el.checked){_push(nameOrId,el.value)}break;case"select-one":if(el.selectedIndex>-1){_push(nameOrId,el.value)}break;case"select-multiple":var opts=el.options,vals=[];for(var j=0;j<opts.length;++j){if(opts[j].selected){vals.push(opts[j].value)}}_push(nameOrId,vals);break;case"button":break}return jsonObj}if(/^(area|base|basefont|col|frame|hr|img|br|isindex|link|meta|option|param)$/i.test(el.tagName)){return null}var els,len,i;if(el.getAttribute("ztype")&&el.getAttribute("ztype").toLowerCase()=="datalevel"){els=el.children;len=els.length;var dataLevel={};for(i=0;i<len;i++){var o=Node.getJson(els[i],dataLevel)}if(dataLevel){_push(el.getAttribute("name")||el.tagName||el.id,dataLevel,true)}}else{els=el.children;len=els.length;for(i=0;i<len;i++){var obj=Node.getJson(els[i],jsonObj)}}return jsonObj};Node.update=function(elem,html,loadScripts,callback){ele=z.getDom(elem);if(typeof html=="undefined"){html=""}if(loadScripts!==true){ele.innerHTML=html;if(typeof callback=="function"){callback()}return ele}var doc=ele.ownerDocument;var id=z.id();html+='<span id="'+id+'"></span>';Dom.available(id,function(){var hd=doc.head||doc.getElementsByTagName("head")[0];var re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig;var srcRe=/\ssrc=([\'\"])(.*?)\1/i;var typeRe=/\stype=([\'\"])(.*?)\1/i;var match;while(match=re.exec(html)){var attrs=match[1];var srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){var s=doc.createElement("script");s.src=srcMatch[2];var typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){new Function(match[2])()}}}var el=document.getElementById(id);if(el){Dom.removeNode(el)}if(typeof callback=="function"){callback()}});ele.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return ele};var MutationObserver=window.MutationObserver||window.MozMutationObserver||window.WebKitMutationObserver;Node.onPropertyChange=function(el,propName,fn,scope){el=z.getDom(el);var $el=$(el);$el.on("change"+propName,$.proxy(fn,scope||el));if(MutationObserver&&(propName=="checked"||propName=="value")){if(typeof $el.data("_listenPropChange_"+propName)=="undefined"){el["_"+propName]=el[propName];var _setter=function(v){if(v==this["_"+propName]){return false}this["_"+propName]=v;delete this[propName];if(!v&&propName=="checked"){this.removeAttribute(propName)}else{this.setAttribute(propName,v)}this[propName]=v;this.__defineSetter__(propName,_setter);this.__defineGetter__(propName,_getter);$(this).trigger("change"+propName,[v,this])};var _getter=function(v){return this["_"+propName]};el.__defineSetter__(propName,_setter);el.__defineGetter__(propName,_getter);if(propName=="value"){$el.on("change",function(evt){var sr=this.setSelectionRange(0,99999);var s=window.getSelection();var v="";if(s){v=s.toString()}this["_"+propName]=v;$el.trigger("change"+propName,[v,el])},false)}else{if(propName=="checked"){$el.on("change",function(evt){var v=!this["_"+propName];_setter.call(this,v)},false)}}if(typeof $el.data("_listenPropChange_byMutationObserver")=="undefined"){var ob=new MutationObserver(function(mutations){mutations.forEach(function(evt){var el=evt.target;var attrName=evt.attributeName;var v=el.getAttribute(attrName);if($el.data("_listenPropChange_"+attrName.toLowerCase())){if(attrName=="checked"&&!!v==!!el["_"+attrName]||v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}})});ob.observe(el,{attributes:true});$el.data("_listenPropChange_byMutationObserver",true)}}$el.data("_listenPropChange_"+propName,true);return}if(document.__defineSetter__&&" alt align accept autofocus disabled draggable defaultvalue defaultchecked height id lang min max multiple name pattern placeholder required src step spellcheck title width ".indexOf(" "+propName+" ")==-1){if(typeof $el.data("_listenPropChange_"+propName)=="undefined"){el["_"+propName]=el[propName];el.__defineSetter__(propName,function(v){if(v==this["_"+propName]){return false}this["_"+propName]=v;if(!v&&" checked disabled draggable hidden readOnly multiple required formnovalidate ".indexOf(" "+propName+" ")!=-1){this.removeAttribute(propName)}else{this.setAttribute(propName,v)}$el.trigger("change"+propName,[v,el])});el.__defineGetter__(propName,function(v){return this["_"+propName]});$el.data("_listenPropChange_"+propName,true)}}else{if(MutationObserver){el["_"+propName]=el[propName];$el.data("_listenPropChange_"+propName,true);if(typeof $el.data("_listenPropChange_byMutationObserver")=="undefined"){var ob=new MutationObserver(function(mutations){mutations.forEach(function(evt){var el=evt.target;var attrName=evt.attributeName;var v=el.getAttribute(attrName);if(v===""&&" checked disabled draggable hidden readOnly multiple required formnovalidate ".indexOf(" "+attrName+" ")!=-1){v=true}if($el.data("_listenPropChange_"+attrName.toLowerCase())){if(v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}})});ob.observe(el,{attributes:true});$el.data("_listenPropChange_byMutationObserver",true)}}else{if("onpropertychange" in document){el["_"+propName]=el[propName];$el.data("_listenPropChange_"+propName,true);if(typeof $el.data("_listenPropChange")=="undefined"){if(!supportDOMAttrModified){if(!supportListenPropertychange){el.onpropertychange=function(evt){evt=evt.originalEvent||evt;var el=evt.srcElement||evt.target;if(el.URL&&el.readyState){return}var attrName=evt.propertyName;var v=el[attrName];if($el.data("_listenPropChange_"+attrName)){if(v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}}}else{$el.on("propertychange",function(evt){evt=evt.originalEvent||evt;var el=evt.srcElement||evt.target;if(el.URL&&el.readyState){return}var attrName=evt.propertyName;var v=el[attrName];if($el.data("_listenPropChange_"+attrName)){if(v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}})}}else{$el.on("DOMAttrModified",function(evt){evt=evt.originalEvent||evt;var attrName=evt.attrName;if($el.data("_listenPropChange_"+attrName)){if(v==el["_"+attrName]){return false}el["_"+attrName]=v;$el.trigger("change"+attrName,[v,el])}})}$el.data("_listenPropChange",true)}}}}};Node.unPropertyChange=function(elem,propName,fn){var el=z.getDom(elem);var $el=$(el);$el.off("change"+propName.toLowerCase(),fn);$el.removeData("_listenPropChange_"+propName)};var focusRe=/a|button|embed|iframe|img|input|object|select|textarea/i;Node.focusable=function(elem){var el=z.getDom(elem);if(!el.disabled){if(focusRe.test(el.nodeName)){if((el.nodeName!=="A")||el.href){canFocus=true}}else{canFocus=!isNaN(el.tabIndex)}}return canFocus&&Node.isVisible(el)};Node.needsTabIndex=function(elem){var el=z.getDom(elem);if(el){if((el.nodeName==="A")&&(!el.href)){return true}return !focusRe.test(el.nodeName)}};z.$$=function(selector,context){return jQuery.find(selector,context)};z.Node=Node;var supportDOMAttrModified;supportDOMAttrModified=window.addEventListener?(function(){var root=document.documentElement,value=root.value;var flag=false,fn;root.addEventListener("DOMAttrModified",fn=function(){flag=true;root.removeEventListener("DOMAttrModified",fn,false);root.value=value},false);root.value="value"+(+new Date());return flag}()):false;var supportListenPropertychange;supportListenPropertychange=window.addEventListener?(function(){var root=document.documentElement,value=root.value;var flag=false,fn;root.addEventListener("propertychange",fn=function(){flag=true;root.removeEventListener("propertychange",fn,false);root.value=value},false);root.value="value"+(+new Date());return flag}()):(function(){var root=document.documentElement,value=root.value=root.value||"";var flag=false,fn;root.attachEvent("onpropertychange",fn=function(){flag=true;root.detachEvent("onpropertychange",fn,false);root.value=value});root.value="value"+(+new Date());return flag}())})();(function(){var d=window.Cms,b=d.isIE,a=d.isGecko,c={};c.lockSelect=function(e){e=e||document.body||document.documentElement;if(d.isGecko){e.style.MozUserSelect="none";e.style.MozUserInput="none";e.style.unselectable="on"}else{document.selection.empty();e.onselectstart=d.Event.stopEvent}};c.unlockSelect=function(e){e=e||document.body||document.documentElement;if(d.isGecko){e.style.MozUserSelect="";e.style.MozUserInput="";e.style.unselectable="off"}else{e.onselectstart=null}};c.copyToClipboard=function(m){if(m===null){return}if(window.clipboardData){window.clipboardData.setData("Text",m)}else{if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(g){Dialog.alert("Firefox自动复制功能未启用！<br>请访问<a href='about:config' target='_blank'>about:config</a> 将’signed.applets.codebase_principal_support’设置为’true’");return}var h=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!h){return}var f=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!f){return}f.addDataFlavor("text/unicode");var l={};var e={};l=Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString);var n=m;l.data=n;f.setTransferData("text/unicode",l,n.length*2);var j=Components.interfaces.nsIClipboard;if(!h){return}h.setData(f,null,j.kGlobalClipboard)}else{Dialog.alert("该浏览器不支持自动复制功能！");return}}Dialog.alert("已复制文字：<br><br><font color='red'>"+m+"</font><br><br>到剪贴板",null,400,200)};c.hasFontList={};c.hasFont=function(f){if(c.hasFontList[f.toLowerCase()]!==undefined){return c.hasFontList[f.toLowerCase()]}var n=d.getDom("_fontdetect");if(!n){n=document.createElement("DIV");n.id="_fontdetect";n.style.cssText="position:absolute; top:-111px; left:0;";document.body.appendChild(n)}n.innerHTML='<iframe src="about:blank" id="frame_fontdetect" width="1000" height="100"></iframe>';var g=d.getDom("frame_fontdetect");var p=g.contentWindow.document;if(d.isIE){p.open();p.write("<html><body></body></html>");p.close()}var j=p.body;var o=p.createElement("DIV");var u=p.createElement("SPAN");var t="font-size: 60px; margin: 0; padding: 0; border: 0; white-space: nowrap; line-height: 1; font-style: normal; font-weight: normal; text-decoration: none;";o.appendChild(u);o.style.cssText=t;u.style.cssText=t;u.innerHTML="The quick brown fox jumps over the lazy dog";j.appendChild(o);var r=u.offsetWidth;var e=u.offsetHeight;var l;if(o.currentStyle){l=o.currentStyle.fontFamily}else{l=p.defaultView.getComputedStyle(o,null).fontFamily}u.style.fontFamily=f;var h=u.offsetWidth;var m=u.offsetHeight;var q;p=o=u=null;g=null;n.innerHTML="";f=f.toLowerCase();if(f==l.toLowerCase()||/^(arial|verdana|sans-serif|serif)$/.test(f)){q=true}else{if(d.isWindows&&/^(tahoma|simsun|宋体|simhei|黑体)$/.test(f)){q=true}else{if(d.isMac&&/^(helvetica|stsong|华文宋体|stheiti|华文黑体)$/.test(f)){q=true}else{q=(h!=r||m!=e)}}}f=f.toLowerCase();c.hasFontList[f.toLowerCase()]=q;return q};if(window!=d.rootWin&&d.rootWin.Cms.Misc){c.hasFontList=d.rootWin.Cms.Misc.hasFontList;c.hasFont=d.rootWin.Cms.Misc.hasFont}d.Misc=c})();(function(){var c=window.Cms,b=c.isIE;var a=function(e,d){this.init(e,d)};a.prototype={init:function(n,j){this._obj=typeof(n)==="string"?document.getElementById(n):n;this._styleWidth=this._styleHeight=this._styleLeft=this._styleTop=0;this._sideRight=this._sideDown=this._sideLeft=this._sideUp=0;this._fixLeft=this._fixTop=0;this._scaleLeft=this._scaleTop=0;this._mxSet=function(){};this._mxRightWidth=this._mxDownHeight=this._mxUpHeight=this._mxLeftWidth=0;this._mxScaleWidth=this._mxScaleHeight=0;this._fun=function(){};var e=this._obj.currentStyle;this._borderX=(parseInt(e.borderLeftWidth,10)||0)+(parseInt(e.borderRightWidth,10)||0);this._borderY=(parseInt(e.borderTopWidth,10)||0)+(parseInt(e.borderBottomWidth,10)||0);var g=this;this._fR=function(f){g.Resize(f)};this._fS=function(){g.Stop()};this.SetOptions(j);this.Max=!!this.options.Max;this._mxContainer=(typeof(n)==="string"?document.getElementById(this.options.mxContainer):this.options.mxContainer)||null;this.mxLeft=Math.round(this.options.mxLeft);this.mxRight=Math.round(this.options.mxRight);this.mxTop=Math.round(this.options.mxTop);this.mxBottom=Math.round(this.options.mxBottom);this.Min=!!this.options.Min;this.minWidth=Math.round(this.options.minWidth);this.minHeight=Math.round(this.options.minHeight);this.Scale=!!this.options.Scale;this.Ratio=Math.max(this.options.Ratio,0);this._wrap=this.options.wrap?(typeof(this.options.wrap)==="string"?document.getElementById(this.options.wrap):this.options.wrap):this._obj;this.onResize=this.options.onResize;this.endResize=this.options.endResize;this.proxy=this.options.proxy;if(this.options.proxy){this._proxy=document.createElement("div");this._proxy.style.cssText=this._wrap.style.cssText;this._proxy.className="rProxy";this._proxy.style.height=this._wrap.clientHeight+"px";this._proxy.style.width=this._wrap.clientWidth+"px";this._proxy.style.display="none";this._wrap.parentNode.appendChild(this._proxy)}else{this._proxy=this._wrap}if(this.options.attachObj){this.attachObj=[];for(var l=0,d=this.options.attachObj.length;l<d;l++){var h=this.options.attachObj[l];h=typeof(h)==="string"?document.getElementById(h):h;if(h){this.attachObj.push(h)}}}if(this._obj.currentStyle.position!=="absolute"){this._obj.style.position="relative";this.isStatic=true}else{this.isStatic=this.options.isStatic}this.idPrefix=n.id+"_";var m=document.createElement("span");m.innerHTML=('<a href="javascript:void(0);" id="@rHandleRightDown" class="rHandle rHandleRightDown" drag="false"> </a><a href="javascript:void(0);" id="@rHandleLeftDown" class="rHandle rHandleLeftDown"> </a><a href="javascript:void(0);" id="@rHandleRightUp" class="rHandle rHandleRightUp"> </a><a href="javascript:void(0);" id="@rHandleLeftUp" class="rHandle rHandleLeftUp"> </a><a href="javascript:void(0);" id="@rHandleRight" class="rHandle rHandleRight"> </a><a href="javascript:void(0);" id="@rHandleDown" class="rHandle rHandleDown"></a><a href="javascript:void(0);" id="@rHandleLeft" class="rHandle rHandleLeft"> </a><a href="javascript:void(0);" id="@rHandleUp" class="rHandle rHandleUp"> </a>').replace(/@/gm,this.idPrefix);this._wrap.appendChild(m);if(!this.isStatic){this.Set(this.idPrefix+"rHandleLeftDown","left-down");this.Set(this.idPrefix+"rHandleRightUp","right-up");this.Set(this.idPrefix+"rHandleLeftUp","left-up");this.Set(this.idPrefix+"rHandleLeft","left");this.Set(this.idPrefix+"rHandleUp","up")}this.Set(this.idPrefix+"rHandleRight","right");this.Set(this.idPrefix+"rHandleRightDown","right-down");this.Set(this.idPrefix+"rHandleDown","down")},SetOptions:function(d){this.options={Max:false,mxContainer:"",mxLeft:0,mxRight:9999,mxTop:0,mxBottom:9999,Min:true,minWidth:50,minHeight:30,Scale:false,Ratio:0,onResize:null,attachObj:[],proxy:false,wrap:null,isStatic:false};if(d){for(var e in d){this.options[e]=d[e]}}},Set:function(g,f){var d;g=document.getElementById(g);if(!g){return}switch(f.toLowerCase()){case"up":d=this.Up;break;case"down":d=this.Down;break;case"left":d=this.Left;break;case"right":d=this.Right;break;case"left-up":d=this.LeftUp;break;case"right-up":d=this.RightUp;break;case"left-down":d=this.LeftDown;break;case"right-down":default:if(this.proxy){this._proxy.style.cursor="nw-resize"}d=this.RightDown}var e=this;$(g).on("mousedown.resize",function(h){e.Start(h,d)})},Start:function(l,g){if(l.stopPropagation){l.stopPropagation()}else{l.cancelBubble=true}this._fun=g;this._styleWidth=this._startWidth=this._obj.clientWidth;this._styleHeight=this._startHeight=this._obj.clientHeight;this._styleLeft=this._startLeft=this._obj.offsetLeft;this._styleTop=this._startTop=this._obj.offsetTop;this._sideLeft=l.clientX-this._styleWidth;this._sideRight=l.clientX+this._styleWidth;this._sideUp=l.clientY-this._styleHeight;this._sideDown=l.clientY+this._styleHeight;this._fixLeft=this._styleWidth+this._styleLeft;this._fixTop=this._styleHeight+this._styleTop;if(this.Scale){this.Ratio=Math.max(this.Ratio,0)||this._styleWidth/this._styleHeight;this._scaleLeft=this._styleLeft+this._styleWidth/2;this._scaleTop=this._styleTop+this._styleHeight/2}if(this.Max){var j=this.mxLeft,h=this.mxRight,f=this.mxTop,d=this.mxBottom;if(!!this._mxContainer){j=Math.max(j,0);f=Math.max(f,0);h=Math.min(h,this._mxContainer.clientWidth);d=Math.min(d,this._mxContainer.clientHeight)}h=Math.max(h,j+(this.Min?this.minWidth:0)+this._borderX);d=Math.max(d,f+(this.Min?this.minHeight:0)+this._borderY);this._mxSet=function(){this._mxRightWidth=h-this._styleLeft-this._borderX;this._mxDownHeight=d-this._styleTop-this._borderY;this._mxUpHeight=Math.max(this._fixTop-f,this.Min?this.minHeight:0);this._mxLeftWidth=Math.max(this._fixLeft-j,this.Min?this.minWidth:0)};this._mxSet();if(this.Scale){this._mxScaleWidth=Math.min(this._scaleLeft-j,h-this._scaleLeft-this._borderX)*2;this._mxScaleHeight=Math.min(this._scaleTop-f,d-this._scaleTop-this._borderY)*2}}if(this.proxy){this._proxy.style.display="block"}$document.on("mousemove.resize",this._fR);$document.on("mouseup.resize",this._fS);if(b){$(this._wrap).on("losecapture.resize",this._fS);this._wrap.setCapture()}else{$window.on("blur.resize",this._fS);l.preventDefault()}},Resize:function(h){if(window.getSelection){window.getSelection().removeAllRanges()}else{document.selection.empty()}this._fun(h);this._proxy.style.width=this._styleWidth+"px";this._proxy.style.height=this._styleHeight+"px";if(!this.isStatic){this._proxy.style.top=this._styleTop+"px";this._proxy.style.left=this._styleLeft+"px"}if(this.attachObj&&this.attachObj.length>0){for(var g=0,d=this.attachObj.length;g<d;g++){var f;this.attachObj[g].style.width=this._proxy.style.clientWidth+this._styleWidth-this._startWidth+"px";this.attachObj[g].style.height=this._proxy.style.clientHeight+this._styleHeight-this._startHeight+"px"}}if(this.onResize){this.onResize()}},Up:function(d){this.RepairY(this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop()},Down:function(d){this.RepairY(d.clientY-this._sideUp,this._mxDownHeight)},Right:function(d){this.RepairX(d.clientX-this._sideLeft,this._mxRightWidth)},Left:function(d){this.RepairX(this._sideRight-d.clientX,this._mxLeftWidth);this.RepairLeft()},RightDown:function(d){this.RepairAngle(d.clientX-this._sideLeft,this._mxRightWidth,d.clientY-this._sideUp,this._mxDownHeight)},RightUp:function(d){this.RepairAngle(d.clientX-this._sideLeft,this._mxRightWidth,this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop()},LeftDown:function(d){this.RepairAngle(this._sideRight-d.clientX,this._mxLeftWidth,d.clientY-this._sideUp,this._mxDownHeight);this.RepairLeft()},LeftUp:function(d){this.RepairAngle(this._sideRight-d.clientX,this._mxLeftWidth,this._sideDown-d.clientY,this._mxUpHeight);this.RepairTop();this.RepairLeft()},RepairX:function(f,d){f=this.RepairWidth(f,d);if(this.Scale){var g=this.RepairScaleHeight(f);if(this.Max&&g>this._mxScaleHeight){g=this._mxScaleHeight;f=this.RepairScaleWidth(g)}else{if(this.Min&&g<this.minHeight){var e=this.RepairScaleWidth(this.minHeight);if(e<d){g=this.minHeight;f=e}}}this._styleHeight=g;this._styleTop=this._scaleTop-g/2}this._styleWidth=f},RepairY:function(g,d){g=this.RepairHeight(g,d);if(this.Scale){var f=this.RepairScaleWidth(g);if(this.Max&&f>this._mxScaleWidth){f=this._mxScaleWidth;g=this.RepairScaleHeight(f)}else{if(this.Min&&f<this.minWidth){var e=this.RepairScaleHeight(this.minWidth);if(e<d){f=this.minWidth;g=e}}}this._styleWidth=f;this._styleLeft=this._scaleLeft-f/2}this._styleHeight=g},RepairAngle:function(g,e,h,d){g=this.RepairWidth(g,e);if(this.Scale){h=this.RepairScaleHeight(g);if(this.Max&&h>d){h=d;g=this.RepairScaleWidth(h)}else{if(this.Min&&h<this.minHeight){var f=this.RepairScaleWidth(this.minHeight);if(f<e){h=this.minHeight;g=f}}}}else{h=this.RepairHeight(h,d)}this._styleWidth=g;this._styleHeight=h},RepairTop:function(){this._styleTop=this._fixTop-this._styleHeight},RepairLeft:function(){this._styleLeft=this._fixLeft-this._styleWidth},RepairHeight:function(e,d){e=Math.min(this.Max?d:e,e);e=Math.max(this.Min?this.minHeight:e,e,0);return e},RepairWidth:function(e,d){e=Math.min(this.Max?d:e,e);e=Math.max(this.Min?this.minWidth:e,e,0);return e},RepairScaleHeight:function(d){return Math.max(Math.round((d+this._borderX)/this.Ratio-this._borderY),0)},RepairScaleWidth:function(d){return Math.max(Math.round((d+this._borderY)*this.Ratio-this._borderX),0)},Stop:function(){if(this.proxy){this._proxy.style.display="none"}$document.off("mousemove.resize",this._fR);$document.off("mouseup.resize",this._fS);if(b){$(this._wrap).off("losecapture.resize",this._fS);this._wrap.releaseCapture()}else{$window.off("blur.resize",this._fS)}if(this.endResize&&typeof(this.endResize)==="function"){this.endResize({height:this._styleHeight,width:this._styleWidth,top:this._styleTop,left:this._styleLeft})}}};c.Resize=a})();(function(){var h=window.Cms,d=h.Node;h.currentDragDropManager=null;if(window!=h.rootWin){h.currentDragDropManager=h.rootWin.Cms.currentDragDropManager}var c={isDragging:false,dragObject:null,startDate:null,startWindow:window,startX:0,startY:0,pageX:0,pageY:0,deltaX:0,deltaY:0,deltaDeltaX:0,deltaDeltaY:0,mouseDownTarget:null,startDrag:h.noopFn};(function(){var j=function(o){var n=c.dragObject;$(document).trigger("mousedown");o=Event.fixEvent(o);if(c.isDragging||!n){return}c.isDragging=true;if(this.startWindow!=h.rootWin){h.currentDragDropManager=c}$document.on("mousemove.drag",l);$document.on("mouseup.drag",m);c.startDate=new Date();c.deltaX=c.deltaY=c.deltaDeltaX=c.deltaDeltaY=0;c.startX=c.pageX=o.pageX;c.startY=c.pageY=o.pageY;c.mouseDownTarget=o.target||o.srcElement;n.dragstart(o);o.preventDefault()};var m=function(o){var n=c.dragObject;if(!c.isDragging||!n){return}n.dragend(o);c.isDragging=false;if(this.startWindow!=h.rootWin){h.currentDragDropManager=null}c.dragObject=null;$document.off("mousemove.drag");$document.off("mouseup.drag")};var l=function(t){var r=c.dragObject;t=Event.fixEvent(t);if(!c.isDragging||!r){return}var q=t.view||(t.target||t.srcElement).ownerDocument.parentWindow;var n=t.pageX;var u=t.pageY;if(q!=c.startWindow){var o=h.Dom.getFrameOffset(q);var p=h.Dom.getFrameOffset(c.startWindow);n=n+o.x-p.x;u=u+o.y-p.y}c.deltaDeltaX=n-c.pageX;c.deltaDeltaY=u-c.pageY;c.pageX=n;c.pageY=u;c.deltaX=n-c.startX;c.deltaY=u-c.startY;r.drag(t);t.preventDefault()};c.startDrag=function(o,n){this.dragObject=n;j(o)}}());var f=function(j){h.mix(this,j);h.Observable(this);h.UICompBase.prototype.getId.call(this);h.ComponentManager.add(this);if(!this.lazyRender){this.render()}};var b=function(j){return parseFloat(j)||0};f.prototype={ctype:"SimpleDrag",dragEl:null,handleEl:null,capture:false,proxyEl:null,xAttr:"left",yAttr:"top",maxXAttr:null,minXAttr:null,maxYAttr:null,minYAttr:null,xFixed:false,yFixed:false,withProxy:true,offsetProxy:false,getProxy:function(){var j=this.proxyEl||h.getDom("_DragProxy");if(!j){j=document.createElement("div");j.id="_DragProxy";j.className="z-proxy-dd";document.body.appendChild(j);j.style.display="none"}this.proxyEl=j;return j},dragstart:function(p){var o=this;if(o.capture&&o.handleEl.setCapture){o.handleEl.setCapture();window.event.cancelBubble=true}o.startXAttr=b(d.getCurrentStyle(o.dragEl,o.xAttr.replace(/^-/,"")));o.startYAttr=b(d.getCurrentStyle(o.dragEl,o.yAttr.replace(/^-/,"")));o.startXAttrInPage=d.getOffset(o.dragEl).x;o.startYAttrInPage=d.getOffset(o.dragEl).y;if(o.withProxy){var l,r;var m=o.getProxy();var n=d.getRect(o.dragEl);l=n.left;r=n.top;if(typeof this.offsetProxy=="string"){if(this.offsetProxy.indexOf("t")!=-1){l=r-c.pageY-n.top-5}if(this.offsetProxy.indexOf("l")!=-1){l=l-c.pageX-n.left-5}if(this.offsetProxy.indexOf("r")!=-1){l=l+c.pageX-n.left+5}if(this.offsetProxy.indexOf("b")!=-1){r=r+c.pageY-n.top+5}}d.setPosition(m,l,r);d.setSize(m,n.width,n.height);d.css(m,"z-index",(parseInt(d.css(o.dragEl,"z-index"),10)||0)+1);o.startXAttrProxy=b(m.style[o.xAttr.replace(/^-/,"")]);o.startYAttrProxy=b(m.style[o.yAttr.replace(/^-/,"")]);m.__deltaX=m.__deltaY=0;var j;var q=function(){var t=0;if(o!=c.dragObject||m.style.display!="none"){t=-1}if(c.deltaX*c.deltaX+c.deltaY*c.deltaY>4||(new Date()-c.startDate)>500){t=1}if(t===1){m.style.display="block"}if(t===1||t===-1){clearInterval(j)}};if(isIE){m.style.display="block"}else{j=setInterval(q,20)}}o.fireEvent("dragstart",p)},drag:function(p){var n=this,o={X:1,Y:1};for(var m in o){var j=m.toLowerCase();if(!n[j+"Fixed"]){var q=(n[j+"Attr"].indexOf("-")===0?-1:1)*c["delta"+m];if(n["max"+m+"Attr"]!==null){q=Math.min(q,n["max"+m+"Attr"]-n["start"+m+"AttrInPage"])}if(n["min"+m+"Attr"]!==null){q=Math.max(q,n["min"+m+"Attr"]-n["start"+m+"AttrInPage"])}if(n.withProxy){try{d.setStyle(n.proxyEl,n[j+"Attr"],(n["start"+m+"AttrProxy"]+q)+"px")}catch(l){}n.proxyEl["__delta"+m]=q}else{d.setStyle(n.dragEl,n[j+"Attr"].replace(/^-/,""),(n["start"+m+"Attr"]+q)+"px")}}}n.fireEvent("drag",p)},dragend:function(m){var l=this;if(l.capture&&l.handleEl.releaseCapture){l.handleEl.releaseCapture()}if(l.withProxy){var j=l.proxyEl;j.style.display="none";if(!l.xFixed){d.setStyle(l.dragEl,l.xAttr.replace(/^-/,""),(l.startXAttr+j.__deltaX)+"px")}if(!l.yFixed){d.setStyle(l.dragEl,l.yAttr.replace(/^-/,""),(l.startYAttr+j.__deltaY)+"px")}}l.fireEvent("dragend",m)},render:function(){var j=this;if(j._rendered){return}j.addEvents("dragstart","drag","dragend");if(j.delegateContainer){$(j.delegateContainer).delegate(j.handleSelector,"mousedown.drag",function(l){j.handleEl=this;if(j.dragSelector){j.dragEl=$(this).closest(j.dragSelector)[0]}else{j.dragEl=j.handleEl}c.startDrag((l&&l.core)||l,j)})}else{j.handleEl=j.handleEl||j.dragEl;$(j.handleEl).on("mousedown.drag",function(l){c.startDrag(l,j)})}j._rendered=true},destroy:function(){var j=this;if(!j._rendered){return}if(j.delegateContainer){$(j.delegateContainer).off("mousedown.drag");delete j.delegateContainer}else{$(j.handleEl).off("mousedown.drag");delete j.handleEl}delete j.dragEl;delete j.proxyEl;h.ComponentManager.unregister(this)}};var e=function(j){f.call(this,j)};e.MENTOR_CLASS=f;e.prototype={ctype:"SimpleResize",xAttr:"width",yAttr:"height",minXAttr:0,minYAttr:0};h.mixIf(e.prototype,f.prototype);var g=function(j){h.mix(this,j);h.Observable(this);if(!this.lazyRender){this.render()}};g.prototype={ctype:"RectSelector",proxyEl:null,handleEl:null,getProxy:(function(){var j=null;return function(){var l=this.proxyEl||j;if(!l){l=h.Dom.createNode("div",{className:"z-proxy-rectselector"});document.body.appendChild(l);l.style.display="none";this.proxyEl=l}return this.proxyEl}}()),dragstart:function(j){this.proxyEl=this.getProxy();this.proxyEl.style.display="block";if(this.handleEl.setCapture){this.handleEl.setCapture()}d.setPosition(this.proxyEl,c.startX,c.startY);d.setSize(this.proxyEl,1,1);this.fireEvent("dragstart",j)},drag:function(j){d.setPosition(this.proxyEl,Math.min(c.startX,c.pageX),Math.min(c.startY,c.pageY));d.setSize(this.proxyEl,Math.abs(c.deltaX),Math.abs(c.deltaY));this.fireEvent("drag",j)},dragend:function(j){if(this.handleEl.releaseCapture){this.handleEl.releaseCapture()}this.proxyEl.style.display="none";this.fireEvent("dragend",j)},render:function(){var j=this;if(j._rendered){return}j.addEvents("dragstart","drag","dragend");$(j.handleEl).on("mousedown.drag",function(l){if(l.target==j.handleEl){c.startDrag(l,j)}});j._rendered=true}};var a=function(j){f.call(this,j)};a.MENTOR_CLASS=f;a.prototype={ctype:"LayoutDrag",withProxy:true,isInline:false,dragstart:function(j){d.addClass(this.dragEl,"dragingModule");f.prototype.dragstart.call(this,j)},dragend:function(j){d.removeClass(this.dragEl,"dragingModule");f.prototype.dragend.call(this,j)},adjustLayout:function(o){var q=this,A=c.pageX,t=c.pageY,w=q.siblings,j=q.containers,r=q.isInline?"deltaDeltaX":"deltaDeltaY",u;if(o.type=="dragstart"||o.name=="dragstart"){if(q.__elAnim){q.__elAnim.pause()}}else{if(o.type=="drag"||o.name=="drag"){if(j||w){var B=false,n,m;u=d.getRect(q.dragEl);var p=d.getMargin(q.dragEl);if(A>=u.left-p[3]&&A<=u.right+p[1]&&t>=u.top-p[0]&&t<=u.bottom+p[2]){return}for(n=0;w!==null&&n<w.length;n++){m=w[n];if(m==q.dragEl){continue}u=d.getRect(m);p=d.getMargin(m);if(A>=u.left-p[3]&&A<=u.right+p[1]&&t>=u.top-p[0]&&t<=u.bottom+p[2]){if(c[r]>0){m.parentNode.insertBefore(q.dragEl,m.nextSibling)}else{if(c[r]<0){m.parentNode.insertBefore(q.dragEl,m)}}B=true;break}}for(n=0;!B&&j!==null&&n<j.length;n++){m=j[n];u=d.getRect(m);if(A>u.left+1&&A<u.right-1&&t>u.top+1&&t<u.bottom-1){if(m.lastChild!=q.dragEl){m.appendChild(q.dragEl);B=true}break}}if(B&&q.handleEl.setCapture){q.handleEl.setCapture()}}}}if(o.type=="dragend"||o.name=="dragend"){if(q.needAnim&&Cms.Animate){u=d.getRect(q.dragEl);q.proxyEl.style.display="block";var l=new Cms.Animate(q.proxyEl,{width:{to:u.width},height:{to:u.height},left:{to:u.left},top:{to:u.top}},300);l.on("end",function(){q.proxyEl.style.display="none"});l.play();q.proxyEl.__elAnim=l}}},render:function(){var l=this;f.prototype.render.call(l);var j=l.adjustLayout;if(j){l.on("dragstart",j);l.on("drag",j);l.on("dragend",j)}}};h.mixIf(a.prototype,f.prototype);$window.on("unload",function(){c.dragObject=null;c.mouseDownTarget=null;c.startWindow=null;h.currentDragDropManager=null});h.DragDropManager=c;h.SimpleDrag=f;h.SimpleResize=e;h.LayoutDrag=a;h.RectSelector=g})();(function(){var b=Cms.CONTEXTPATH||"/";var a={};a.get=function(e){var f=document.cookie.split("; ");for(i=0;i<f.length;i++){var c=f[i].split("=");var g=c[0].trim();var d=c[1]?c[1].trim():"";if(g===e){return decodeURIComponent(d)}}return null};a.getAll=function(){var e=document.cookie.split("; ");var f={};for(i=0;i<e.length;i++){var c=e[i].split("=");var g=c[0].trim();var d=c[1]?c[1].trim():"";f[g]=decodeURIComponent(d)}return f};a.set=function(d,l,e,m,g,c,j){if(d===undefined||l===undefined){return false}if(!j){l=encodeURIComponent(l)}if(!m){m=b}m=m.replace(/^\w+:\/\/[.\w]+:?\d*/g,"");if(e){if(/^[0-9]+$/.test(e)){e=new Date(new Date().getTime()+e*1000).toGMTString()}else{var f=Cms.DateTime.parseDate(e);if(f){e=f.toGMTString()}else{e=undefined}}}if(!j){a.remove(d,m,g)}var h=d+"="+l+";"+((e)?" expires="+e+";":"")+((m)?"path="+m+";":"")+((g)?"domain="+g+";":"")+((c&&c!==0)?"secure":"");if(h.length<4096){document.cookie=h}else{throw"写入cookie中的数据过长"+h}return true};a.remove=function(d,f,e){var c=a.get(d);if(!d||c===null){return false}if(!f){f=b}f=f.replace(/^\w+:\/\/[.\w]+:?\d*/g,"");document.cookie=d+"=;"+((f)?" path="+f+";":"")+((e)?" domain="+e+";":"")+" expires="+new Date(0)+";";return true};Cms.Cookie=a})();(function(){var a=window.Cms;a.DataGSetter=function(f,n,m){var l=f,b;if(typeof m=="string"&&m.length){m=m.substr(0,1).toUpperCase()+m.substr(1)}else{m="Attr"}n=n||"_attributes";var h;if(typeof n=="string"){h=l[n]=l[n]||{}}else{if(typeof n=="object"){h=n}}var d="get"+m;var j="set"+m;var g="getAll"+m;var e="remove"+m;var c="removeAll"+m;if(a.isElement(f)){$window.on("unload",function(){f[n]=f[d]=f[j]=null})}l[d]=function(o){return h[o]};l[g]=function(o){return h};l[c]=function(o){return(h={})};l[j]=function(o,q,p){h[o]=q;if(p!==undefined){l[o]=p}};l[e]=function(o,p){delete h[o];if(p){delete l[o]}}}})();(function(){var c=window.Cms,a={};a.Supported="en,zh-cn,zh-tw";a.DefaultLanguage="zh-cn";a.Map={};a.getCurrentLang=function(){var d=c.Cookie.get("_CMS_LANGUAGE");if(d){return d}d=navigator.language?navigator.language:navigator.browserLanguage;d=d?d:navigator.systemLanguage;if(d){d=d.replace("_","-").toLowerCase();if(d.startsWith("en-")){d="en"}if(d.startsWith("zh-")){if(d!="zh-cn"){d="zh-tw"}else{d="zh-cn"}}return d}return a.DefaultLanguage};a.setCurrentLang=function(g,e){var f=c.Cookie.get("_CMS_LANGUAGE");if(f==g){return g}var d=new DataCollection();d.add("Language","zh-cn");Server.sendRequest("Application.changeLanguage",d,function(h){if(e){window.location.reload()}})};var b=a.getCurrentLang();if((","+a.Supported+",").indexOf(","+b+",")<0){window.console&&console.warn("Cms can't support language:"+b);b=a.DefaultLanguage}a.get=function(d){var e=a.Map[b][d];return e===undefined?d:e};if(c.JSLIBPATH.endsWith("/Dialog/")&&!b.startsWith("zh-")){c.addStyle("body,input,textarea,select,button { font-family:Helvetica, Arial, sans-serif; }h1,h2,h3,h4,h5,h6{font-family:'Lucida Grande', 'Lucida Sans Unicode', Helvetica, Arial, sans-serif;}.navigation a ,.sideNavigation a{font-family:'Lucida Grande', 'Lucida Sans Unicode', Helvetica, Arial, sans-serif;}#loginBtnWrap a{ letter-spacing:1px; }")}c.Lang=a;c.importJs(c.CONTEXTPATH+"Dialog/lang/"+a.getCurrentLang()+".js")})();